{"body": [{"indent": 0, "text": ["Dop Network"], "type": "title", "extent": [105, 121], "level": 0}, {"indent": 0, "type": "summary", "extent": [121, 185], "text": [" The DOP Network Object contains a dynamic simulation. "]}, {"indent": 0, "type": "para", "extent": [185, 445], "text": ["The DOP Network Object contains a DOP simulation. Simulations can\nconsist of any number of simulation objects (which do not correspond to\nObjects that appear in /obj). These simulation objects are built and\ncontrolled by the DOP nodes contained in this node."]}, {"indent": 0, "type": "para", "extent": [445, 770], "text": ["Simulation-wide controls are provided on this node, such as caching\noptions and time step controls. The entire simulation can also be\ntransformed using the Transform parameters of this node. Transforming a\nsimulation at this level does not affect the simulation at all. The\nTransform is applied after the simulation occurs."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [775, 879], "text": ["To improve the playback of cached fluids, increase the ", {"text": ["Cache Memory"], "type": "ui"}, " on the ", {"text": ["Simulation"], "type": "ui"}, " tab."]}], "indent": 0, "role": "item", "type": "tip", "extent": [770, 775]}], "container": true, "role": "item_group", "type": "tip_group"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [913, 1279], "text": ["Turns the DOP network into a player for simulation files.\n    Enabling playback mode will cause the result of the DOP\n    network to be given by the simulation files selected. The\n    internal nodes of the network will be ignored.\n    One way to create simulation files to play using this option\n    is the ", {"text": ["Output Node"], "fullpath": "/nodes/dop/output", "scheme": "Node", "type": "link", "value": "/nodes/dop/output"}, " inside the DOP network."]}], "indent": 0, "text": ["Playback Simulation"], "role": "item", "extent": [891, 913], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [1345, 1614], "text": ["Clears the entire simulation cache.\n    When viewing a DOP Network in the viewport, a button will be made\n    active above the viewport on the right hand side. Pressing\n    that button performs exactly the same action as pressing\n    this Reset Simulation button."]}], "indent": 0, "text": ["Reset Simulation"], "role": "item", "attrs": {"id": "resimulate"}, "extent": [1306, 1325], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1640, 1698], "text": ["Whether the simulation is displayed in the viewport."]}], "indent": 0, "text": ["Display"], "role": "item", "attrs": {"id": "display"}, "extent": [1614, 1623], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1735, 2045], "text": ["The name of a file that is used as the initial state of the\n    simulation. This file must be a simulation state file\n    created by either a File DOP or a Dynamics Output Driver. If\n    this parameter is set, then the DOP nodes inside this\n    network are not processed on the first simulation timestep."]}], "indent": 0, "text": ["Initial State"], "role": "item", "attrs": {"id": "initialstate"}, "extent": [1698, 1713], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2073, 2396], "text": ["Controls the length of a simulation timestep. Usually this\n    value will be some multiple of a frame time, but it is not\n    required. By specifying a larger timestep the simulation\n    will run faster but will be less accurate and less stable.\n    Smaller timesteps give better result but calculate more\n    slowly."]}], "indent": 0, "text": ["Timestep"], "role": "item", "attrs": {"id": "timestep"}, "extent": [2045, 2055], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2423, 2654], "text": ["The default timestep expression will use this parameter to\n    control how many substeps the dop simulation should perform\n    every frame.  This can be easier to adjust than working with\n    the 1/$FPS parameter in timestep."]}], "indent": 0, "text": ["Substeps"], "role": "item", "attrs": {"id": "substep"}, "extent": [2396, 2406], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2687, 3118], "text": ["Specifies an offset in seconds between the simulation time\n    for this simulation and the global time displayed on the\n    playbar. If this parameter is set to 1, then this simulation\n    will not start cooking until frame 25. At that global time\n    of 1 second, the simulation time will be 0. Several\n    expression functions such as ", {"text": ["doptime"], "type": "code"}, " exist for converting\n    from global times to simulation times and vice versa."]}], "indent": 0, "text": ["Offset Time"], "role": "item", "attrs": {"id": "timeoffset"}, "extent": [2654, 2667], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3151, 3585], "text": ["The default offset time expression references this parameter\n    to set the offset time appropriately.  This allows one to set\n    the start time in frames rather than seconds which can be more\n    straightforward in some cases.  If the start frame is set to\n    24, the simulation will not start cooking until frame 24.\n    Note that if you use this, $SF and $F will no longer refer to\n    the same thing inside the simulation."]}], "indent": 0, "text": ["Start Frame"], "role": "item", "attrs": {"id": "startframe"}, "extent": [3118, 3131], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3616, 4060], "text": ["Specifies a scale factor that relates global time to the\n    simulation time for this DOP Network. A value greater than\n    one means the simulation time advances faster than the\n    global time. A value less than one causes the simulation to\n    appear to run in slow motion relative to the global time.\n    Several expression functions such as ", {"text": ["doptime"], "type": "code"}, " exist for\n    converting from global times to simulation times and vice\n    versa."]}], "indent": 0, "text": ["Scale Time"], "role": "item", "attrs": {"id": "timescale"}, "extent": [3585, 3597], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4101, 4575], "text": ["When simulation objects using different solvers are made to\n    be mutual affectors (such as a cloth object and an RBD\n    object), this parameter controls the maximum number of\n    iterations to perform while attempting to resolve the two\n    solvers. Increasing this number in situations where\n    different solvers are mutual affectors increases the ability\n    of the simulation to reach a satisfactory result, but can\n    increase the simulation calculation time."]}, {"indent": 4, "type": "para", "extent": [4575, 4845], "text": ["In the case of fluid simulations, since the fluid cannot adapt\n    to the feedback forces that are applied, a value of 2 should\n    be used rather than higher values.  Higher values will just\n    make the fluid artificially stronger and take considerable\n    time."]}], "indent": 0, "text": ["Max Feedback Loops"], "role": "item", "attrs": {"id": "maxfeedback"}, "extent": [4060, 4080], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4895, 5880], "text": ["When any parameter inside a DOP simulation is changed, or\n    when any referenced external node is changed, the cache of\n    the simulation is marked as invalid. If this parameter is\n    turned on, the next time the playbar is moved to reach a\n    simulation time of 0, the cache will be cleared and the\n    first simulation timestep will be recalculated. If the cache\n    is invalidated while at a simulation time of 0, the initial\n    state is recalculated immediately. If the current time is\n    beyond time 0, then the most recent timestep will be\n    recooked, and the cache beyond the current time will be\n    cleared. But all prior timesteps will be left untouched\n    other than to be marked invalid. If this parameter is off,\n    the cache is marked as invalid in exactly the same way, but\n    the cache is never cleared automatically. To recook a\n    simulation in this mode, the Recook Simulation button on\n    this parameter dialog or above the viewport must be used."]}], "indent": 0, "text": ["Enable Automatic Resimulation"], "role": "item", "attrs": {"id": "autoresim"}, "extent": [4845, 4876], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5919, 6508], "text": ["Rules governing allowed simulation data relationships are\n    stored in a files called dophints.cmd in the scripts\n    directory. If this option is turned on, at the end of each\n    timestep the simulation state is compared against the rules\n    in that file. If any rules are broken, warnings are added to\n    the appropriate DOP nodes. This can be very useful when\n    learning to use DOPs or when debugging problems with a\n    simulation. Turning this option off will improve the\n    performance of your simulation by skipping this validation\n    step at the end of each timestep."]}], "indent": 0, "text": ["Provide Data Hints"], "role": "item", "attrs": {"id": "datahints"}, "extent": [5880, 5900], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [6555, 7198], "text": ["If the global time is set to a value that does not line up\n    with a simulation timestep boundary, this parameter controls\n    how the simulation should be displayed. If this parameter is\n    turned off, the closest simulation timestep contents are\n    displayed. If this parameter is turned on, the contents of\n    the previous and next simulation timesteps are interpolated\n    to create an approximation of the simulation as it would\n    have actually been at the current time. This option allows\n    the simulation to appear smooth in the viewport even if the\n    simulation timesteps do not line up with the global frame\n    times."]}], "indent": 0, "text": ["Interpolate Display Data"], "role": "item", "attrs": {"id": "interpolate"}, "extent": [6508, 6534], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Simulation"], "extent": [1279, 1306], "container": true, "type": "h", "id": "sim_tab"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [7263, 7529], "text": ["Enables the simulation cache. Many solvers will not work\n    properly unless this option is enabled. However for very\n    large simulations, turning off this option is the best way\n    to guarantee the smallest possible memory footprint for the\n    simulation."]}], "indent": 0, "text": ["Cache Simulation"], "role": "item", "attrs": {"id": "cacheenabled"}, "extent": [7222, 7241], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [7550, 7907], "text": ["Determines if .sim files written to disk for caching will be\n    compressed.  Compression can reduce the size of the disk cache\n    significantly, but can also increase the time to cache\n    significantly.  If loading or writing to cache seems slow, try\n    using blosc compressed .sim files or uncompressed .sim files,\n    especially with fluid sims."]}], "indent": 0, "text": ["Compress .sim Files"], "role": "item", "extent": [7529, 7550], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [7930, 8425], "text": ["If the maximum size of the cache in memory is reached, the\n    DOP Network can either delete old cache entries to make room\n    for new entries, or old entries can be saved to disk. If\n    this option is on, the old cache entries are saved to disk\n    and will be reloaded from disk if needed. This mode will be\n    slower than simply throwing away the old cache entries, but\n    it ensures that the entire simulation history is always\n    available regardless of the in-memory cache size."]}], "indent": 0, "text": ["Allow Caching To Disk"], "role": "item", "extent": [7907, 7930], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [8468, 8917], "text": ["In non-interactive sessions, such as hscript or hython, one\n    may often not want the entire simulation history to be\n    available.  Their default behavior is to ignore the Allow\n    Caching to Disk and not cache to disk.  This behavior can be\n    overridden with this toggle.  Saving old simulation states to\n    disk can often become very expensive and, since one will not\n    be scrubbing the playbar on the result, a waste of disk space."]}], "indent": 0, "text": ["Cache to Disk in Non Interactive Sessions"], "role": "item", "extent": [8425, 8468], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [8937, 9473], "text": ["Some solvers perform their own internal subsampling of time\n    to get better results. This option controls whether or not\n    the substep data created during this internal subsampling\n    should be kept as part of the cache, or discarded as soon as\n    the simulation timestep has finished computing. Having this\n    option on can be useful for debugging purposes, or if\n    accurate display of sub-timestep data is desired. Using the\n    actual substep data will give more accurate results that\n    displaying interpolated data."]}], "indent": 0, "text": ["Cache Substep Data"], "role": "item", "extent": [8917, 8937], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [9492, 9775], "text": ["Specifies how much memory in megabytes can be consumed by the cache for\n    this simulation. Once this limit is exceeded, old cache entries are\n    either deleted or saved to disk to make more room, depending on the\n    value of the Allow Caching To Disk parameter value above."]}], "indent": 0, "text": ["Cache Memory (MB)"], "role": "item", "extent": [9473, 9492], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [9798, 10183], "text": ["Each frame the simulation is started fresh as if it were the\n    first frame.  This means $SF is always 1.  It also means,\n    however, if the network consists of a File DOP with a $F based\n    .sim file, only the current frame will have to be loaded,\n    allowing for fast random access of baked simulations.  Note\n    that when in this mode only one frame is kept in the cache."]}], "indent": 0, "text": ["Timeless (No History)"], "role": "item", "extent": [9775, 9798], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [10201, 11056], "text": ["Normally when the Allow Caching to Disk is enabled and the\n    simulation hits the memory limit, the simulation is saved to\n    files in the temp directory.  While these are valid .sim\n    files, they can be hard to manage. When this options is on,\n    each frame is immediately cached to the specified directory.\n    It is still kept in memory until the Cache Memory is hit, but\n    at that point it is not saved to disk (since it\u2019s already on\n    disk).  The advantage of checkpointing is that if a cache\n    frame already exists DOPs will not cook that frame, even if the\n    simulation has been reset. Instead it will load that frame.\n    Further, it only needs to cook the frames after the last valid\n    checkpoint frame before the requested frame.  So if you\n    have cache_50.sim and try to cook frame 100, cooking can start\n    at frame 50."]}, {"indent": 4, "type": "para", "extent": [11056, 11280], "text": ["Using save checkpoints is similar to using a File DOP in Automatic\n    Mode.  However, when you try to jump to frame 50 with a File\n    DOP it must load the first 50 frames.  With checkpoints it can\n    skip this step."]}], "indent": 0, "text": ["Save Checkpoints"], "role": "item", "extent": [10183, 10201], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [11298, 11576], "text": ["The file sequence to save the checkpoints to.  These are\n    .sim files, loadable with the File DOP or File SOP.  The\n    variable $SF must be used to specify the frame number - $F\n    cannot be used because this is working in simulation space.\n    $SF4 is also supported."]}], "indent": 0, "text": ["Checkpoint Files"], "role": "item", "extent": [11280, 11298], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [11601, 11800], "text": ["How much of a history to keep before the checkpoint files\n    are deleted.  A value of 0 will never delete cache files.\n    Otherwise, frames older than this value will be erased from\n    disk."]}, {"indent": 4, "type": "para", "extent": [11800, 12143], "text": ["Note that only checkpoint files created by this session of Houdini\n    will be deleted.  If you restart Houdini with an existent\n    cache files, they will not be deleted.  This is done because\n    you were likely restarting from a crashed location and will\n    want to guarantee you can once again restart there if it\n    crashes again."]}], "indent": 0, "text": ["Checkpoint Trail Length"], "role": "item", "extent": [11576, 11601], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [12164, 12452], "text": ["The frame interval between checkpoints. Setting this to a\n    value of 1 will save a checkpoint every frame. Setting this to\n    higher values will save a checkpoint after every number of\n    frames specified. For example setting this to 5 will save a\n    checkpoint every 5 frames."]}, {"indent": 4, "type": "para", "extent": [12452, 12537], "text": ["This can be done to save disk space if you are running a large\n    simulation. "]}], "indent": 0, "text": ["Checkpoint Interval"], "role": "item", "extent": [12143, 12164], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"body": [{"body": [{"type": "para", "indent": 4, "extent": [81, 402], "text": ["The left menu chooses the order in which transforms are applied\n    (for example, scale, then rotate, then translate). This can change the\n    position and orientation of the object, in the same way that going a\n    block and turning east takes you to a different place than turning east\n    and then going a block."]}, {"type": "para", "indent": 4, "extent": [402, 590], "text": ["The right menu chooses the order in which to rotate around the\n    X, Y, and Z axes. Certain orders can make character joint\n    transforms easier to use, depending on the character."]}], "indent": 0, "text": ["Transform Order"], "role": "item", "attrs": {"id": "xord"}, "extent": [48, 66], "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "extent": [613, 646], "text": ["Translation along XYZ axes."]}], "indent": 0, "text": ["Translate"], "role": "item", "attrs": {"id": "t"}, "extent": [590, 601], "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "extent": [666, 704], "text": ["Degrees rotation about XYZ axes."]}], "indent": 0, "text": ["Rotate"], "role": "item", "attrs": {"id": "r"}, "extent": [646, 654], "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "extent": [723, 764], "text": ["Non-uniform scaling about XYZ axes."]}], "indent": 0, "text": ["Scale"], "role": "item", "attrs": {"id": "s"}, "extent": [704, 711], "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "extent": [783, 873], "text": ["Local origin of the object.\n    See also ", {"text": ["setting the pivot point"], "fullpath": "/basics/objects", "scheme": null, "type": "link", "value": "/basics/objects"}, " ."]}], "indent": 0, "text": ["Pivot"], "role": "item", "attrs": {"id": "p"}, "extent": [764, 771], "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "extent": [904, 958], "text": ["Scale the object uniformly along all three axes."]}], "indent": 0, "text": ["Uniform Scale"], "role": "item", "attrs": {"id": "scale"}, "extent": [873, 888], "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "extent": [1003, 1372], "text": ["This menu contains options for manipulating the\n    ", {"fragment": "#pretransform", "text": ["pre-transform"], "value": "/basics/objects#pretransform", "fullpath": "/basics/objects#pretransform", "scheme": null, "type": "link"}, " values. The pre-transform is an internal\n    transform that is applied prior to the regular transform parameters.\n    This allows you to change the frame of reference for the translate, rotate,\n    scale parameter values below without changing the overall transform."]}, {"body": [{"body": [{"type": "para", "indent": 8, "extent": [1393, 1532], "text": ["This reverts the translate, rotate, scale parameters to their\n        default values while maintaining the same overall transform."]}], "type": "dt", "indent": 4, "extent": [1372, 1393], "text": ["Clean Transform"]}, {"body": [{"type": "para", "indent": 8, "extent": [1554, 1663], "text": ["This sets the translate parameter to (0, 0, 0) while maintaining\n        the same overall transform."]}], "type": "dt", "indent": 4, "extent": [1532, 1554], "text": ["Clean Translates"]}, {"body": [{"type": "para", "indent": 8, "extent": [1682, 1788], "text": ["This sets the rotate parameter to (0, 0, 0) while maintaining the\n        same overall transform."]}], "type": "dt", "indent": 4, "extent": [1663, 1682], "text": ["Clean Rotates"]}, {"body": [{"type": "para", "indent": 8, "extent": [1806, 1911], "text": ["This sets the scale parameter to (1, 1, 1) while maintaining the\n        same overall transform."]}], "type": "dt", "indent": 4, "extent": [1788, 1806], "text": ["Clean Scales"]}, {"body": [{"type": "para", "indent": 8, "extent": [1938, 2184], "text": ["This removes the pre-transform by setting the translate, rotate,\n        and scale parameters in order to maintain the same overall\n        transform. Note that if there were shears in the pre-transform, it can not be completely removed."]}], "type": "dt", "indent": 4, "extent": [1911, 1938], "text": ["Extract Pre-transform"]}, {"body": [{"type": "para", "indent": 8, "extent": [2209, 2454], "text": ["This completely removes the pre-transform without changing any\n        parameters. This will change the overall transform of the object if\n        there are any non-default values in the translate, rotate, and\n        scale parameters."]}], "type": "dt", "indent": 4, "extent": [2184, 2209], "text": ["Reset Pre-transform"]}], "type": "dt_group", "container": true}], "indent": 0, "text": ["Modify Pre-Transform"], "role": "item", "attrs": {"id": "pretransform"}, "extent": [958, 980], "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "extent": [2502, 2626], "text": ["When the object is re-parented, maintain its current world position by\n    changing the object\u2019s transform parameters."]}], "indent": 0, "text": ["Keep Position When Parenting"], "role": "item", "attrs": {"id": "keeppos"}, "extent": [2454, 2484], "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "extent": [2666, 2808], "text": ["When the object is being transformed, maintain the current world transforms \n    of its children by changing their transform parameters."]}], "indent": 0, "text": ["Child Compensation"], "role": "item", "attrs": {"id": "childcomp"}, "extent": [2626, 2646], "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "extent": [2853, 2904], "text": ["Enable ", {"text": ["Constraints Network"], "type": "ui"}, " on the object."]}], "indent": 0, "text": ["Enable Constraints"], "role": "item", "attrs": {"id": "constraints_on"}, "extent": [2808, 2828], "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "extent": [2944, 3049], "text": ["Path to a CHOP ", {"text": ["Constraints Network"], "type": "ui"}, ".\n    See also ", {"text": ["creating constraints"], "fullpath": "/character/constraints", "scheme": null, "type": "link", "value": "/character/constraints"}, "."]}, {"body": [{"body": [{"type": "para", "indent": 8, "extent": [3058, 3266], "text": ["You can you use the Constraints drop down button to activate one of the Constraints Shelf Tool. If you do so, the first pick session is filled automatically by nodes selected in the parameter panel."]}], "role": "item", "indent": 4, "extent": [3049, 3058], "type": "tip"}], "role": "item_group", "container": true, "type": "tip_group"}, {"body": [{"body": [{"type": "para", "indent": 8, "extent": [3276, 3576], "text": ["Lookat and Follow Path parameters on object nodes are deprecated in favor of ", {"text": ["Look At"], "fullpath": "/shelf/constraintlookat", "scheme": null, "type": "link", "value": "/shelf/constraintlookat"}, " and ", {"text": ["Follow Path"], "fullpath": "/shelf/constraintpath", "scheme": null, "type": "link", "value": "/shelf/constraintpath"}, " constraints.\n        The parameters are only hidden for now and you can set their visibility if you do edit the node\u2019s parameter interface."]}], "role": "item", "indent": 4, "extent": [3266, 3276], "type": "note"}], "role": "item_group", "container": true, "type": "note_group"}], "indent": 0, "text": ["Constraints"], "role": "item", "attrs": {"id": "constraints_path"}, "extent": [2904, 2917], "type": "parameters_item"}], "type": "parameters_item_group", "container": true}], "container": true, "level": 3, "text": ["Transform"], "extent": [16, 48], "indent": 0, "type": "h", "id": "transform_tab"}], "indent": 0, "level": 2, "text": ["Cache"], "extent": [7198, 7222], "container": true, "type": "h", "id": "cache_tab"}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [879, 891], "container": true, "type": "parameters_section", "id": "parameters"}], "title": ["Dop Network"], "summary": [" The DOP Network Object contains a dynamic simulation. "], "attrs": {"version": null, "tags": "dynamics", "namespace": null, "bestbet": "autodopnetwork", "internal": "dopnet", "context": "obj", "type": "node", "icon": "OBJ/dopnet"}, "included": ["/nodes/obj/common", "/props/_minmax_styles", "/props/mantra"], "type": "root"}