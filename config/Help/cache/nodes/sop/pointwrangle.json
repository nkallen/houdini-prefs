{"body": [{"indent": 0, "text": ["Point Wrangle"], "type": "title", "extent": [0, 18], "level": 0}, {"indent": 0, "type": "summary", "extent": [127, 201], "text": ["Runs a VEX snippet to modify point attributes, including position."]}, {"body": [{"indent": 0, "type": "para", "extent": [216, 337], "text": ["This is a very powerful, low-level node that lets experts who are\nfamiliar with VEX tweak point attributes using code."]}, {"indent": 0, "type": "para", "extent": [337, 451], "text": ["This node corresponds to the ", {"text": ["VOP SOP"], "fullpath": "/nodes/sop/vopsop", "scheme": "Node", "type": "link", "value": "/nodes/sop/vopsop"}, ",\nbut uses a textual VEX snippet instead of a VOP network."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [460, 591], "text": ["This node requires that you understand the ", {"text": ["vex language"], "fullpath": "/vex/index", "scheme": null, "type": "link", "value": "/vex/"}, ".\n    It is very easy to write incorrect code using this node."]}], "indent": 0, "role": "item", "type": "warning", "extent": [451, 460]}], "container": true, "role": "item_group", "type": "warning_group"}, {"indent": 0, "type": "para", "extent": [591, 805], "text": ["This node ", {"text": ["runs the snippet on every point"], "type": "em"}, " in the input geometry.\nThe snippet can edit the input geometry by changing attributes.\nIt can access information from other geometry using attributes and VEX functions."]}, {"body": [{"indent": 0, "blevel": 2, "type": "bullet", "extent": [805, 876], "text": ["Press ", {"keys": ["MMB"], "text": null, "type": "keys"}, " on the node to see any error output from the snippet."]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [876, 1089], "text": ["You can use the VEX function ", {"text": ["ch"], "type": "code"}, " to evaluate parameters.\n  The path is relative to this node (", {"text": ["ch(\"parm\")"], "type": "code"}, " will evaluate the parameter ", {"text": ["parm"], "type": "code"}, " on this node).\n  This evaluation will be done at the current time."]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [1089, 1320], "text": ["Unlike the ", {"text": ["Point SOP"], "fullpath": "/nodes/sop/point", "scheme": "Node", "type": "link", "value": "/nodes/sop/point"}, ", this does not use local variables.\n  Further, all backtick expressions and ", {"text": ["$F"], "type": "code"}, " variables will be evaluated at frame 1,\n  not the current time.\n  Use ", {"text": ["Frame"], "type": "code"}, ", ", {"text": ["Time"], "type": "code"}, ", or ", {"text": ["TimeInc"], "type": "code"}, " instead."]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 2, "text": ["Overview"], "extent": [201, 216], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [1334, 1389], "text": ["This node runs the VEX snippet in the ", {"text": ["SOP context"], "type": "strong"}, "."]}, {"body": [{"type": "para", "indent": 0, "extent": [29, 294], "text": ["The ", {"text": ["VEX snippet"], "type": "ui"}, " parameter lets you enter a snippet of ", {"text": ["VEX code"], "fullpath": "/vex/index", "scheme": null, "type": "link", "value": "/vex/"}, " to run on the input geometry.\nSee ", {"text": ["VEX snippets"], "fullpath": "/vex/snippets", "scheme": null, "type": "link", "value": "/vex/snippets"}, " for information on special syntax in the snippet parameter.\nSee ", {"text": ["the VEX chapter"], "fullpath": "/vex/index", "scheme": null, "type": "link", "value": "/vex/"}, " for information on the VEX language."]}], "container": true, "level": 3, "text": ["Syntax"], "extent": [16, 29], "indent": 0, "type": "h", "id": null}], "indent": 0, "level": 2, "text": ["Context"], "extent": [1320, 1334], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [1435, 1576], "text": ["You can create temporary VEX variables.\nNormal VEX variables do not have a ", {"text": ["@"], "type": "code"}, " prefix.\nFor example, the following code swaps ", {"text": ["P"], "type": "code"}, " and ", {"text": ["Cd"], "type": "code"}, "."]}, {"lang": "vex", "indent": 0, "type": "pre", "extent": [1576, 1630], "text": ["\nvector temp = @P;\n@P = @Cd;\n@Cd = temp;\n"]}], "indent": 0, "level": 2, "text": ["VEX variables"], "extent": [1415, 1435], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [1654, 1858], "text": ["The VEX ", {"text": ["sop"], "type": "code"}, " context provides several global variables you can access,\nsuch as ", {"text": ["P"], "type": "code"}, ", that correspond to attributes.\nWhile you can access these directly, we recommend you use the ", {"text": ["@"], "type": "code"}, " prefix\nfor clarity."]}, {"indent": 0, "type": "para", "extent": [1858, 1953], "text": ["The following global variables do not correspond to attributes\nand may be useful in snippets."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [1960, 1988], "text": ["Total number of points."]}], "indent": 0, "type": "dt", "extent": [1953, 1960], "text": [{"text": ["Npt"], "type": "code"}]}, {"body": [{"indent": 4, "type": "para", "extent": [1996, 2025], "text": ["Current time in seconds."]}], "indent": 0, "type": "dt", "extent": [1988, 1996], "text": [{"text": ["Time"], "type": "code"}]}, {"body": [{"indent": 4, "type": "para", "extent": [2034, 2062], "text": ["Current time in frames."]}], "indent": 0, "type": "dt", "extent": [2025, 2034], "text": [{"text": ["Frame"], "type": "code"}]}, {"body": [{"indent": 4, "type": "para", "extent": [2073, 2120], "text": ["Time increment between frames, in seconds."]}], "indent": 0, "type": "dt", "extent": [2062, 2073], "text": [{"text": ["TimeInc"], "type": "code"}]}, {"body": [{"indent": 4, "type": "para", "extent": [2168, 2296], "text": ["A string that can be used to refer to the corresponding input\n    of this SOP in vex operations that take file parameters."]}], "indent": 0, "type": "dt", "extent": [2120, 2168], "text": [{"text": ["OpInput1"], "type": "code"}, ", ", {"text": ["OpInput2"], "type": "code"}, ", ", {"text": ["OpInput3"], "type": "code"}, ", ", {"text": ["OpInput4"], "type": "code"}]}], "container": true, "type": "dt_group"}], "indent": 0, "level": 2, "text": ["Global Variables"], "extent": [1630, 1654], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [2322, 2447], "text": ["A subset of points in the input geometry to run the program on.\n    Leave this blank to affect all points in the input."]}], "indent": 0, "text": ["Point group"], "role": "item", "extent": [2308, 2322], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2478, 2623], "text": ["A snippet of VEX code that will manipulate the point attributes.\n    You can use ", {"text": ["@", {"text": ["variable_name"], "type": "var"}], "type": "code"}, " syntax to access geometry attributes."]}], "indent": 0, "text": ["VEXpression"], "role": "item", "attrs": {"id": "snippet"}, "extent": [2447, 2460], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2666, 2793], "text": ["Only create attributes if their names match this pattern.\n    The default pattern allows any attribute to be created."]}, {"indent": 4, "type": "para", "extent": [2793, 2992], "text": ["You can restrict the created attributes by replacing the ", {"text": ["*"], "type": "code"}, " with a list of allowed names.\n    Global attributes, such as ", {"text": ["Cd"], "type": "code"}, ", ", {"text": ["v"], "type": "code"}, ", and ", {"text": ["id"], "type": "code"}, ", will be created even if they are not in this list."]}], "indent": 0, "text": ["Attributes to Create"], "role": "item", "attrs": {"id": "exportlist"}, "extent": [2623, 2645], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [2296, 2308], "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "extent": [3001, 3029], "text": [{"text": "", "fullpath": "/nodes/sop/attribwrangle", "scheme": "Node", "type": "link", "value": "/nodes/sop/attribwrangle"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [3029, 3056], "text": [{"text": "", "fullpath": "/nodes/sop/volumewrangle", "scheme": "Node", "type": "link", "value": "/nodes/sop/volumewrangle"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [3056, 3079], "text": [{"text": "", "fullpath": "/nodes/sop/attribvop", "scheme": "Node", "type": "link", "value": "/nodes/sop/attribvop"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [3079, 3098], "text": [{"text": "", "fullpath": "/nodes/sop/point", "scheme": "Node", "type": "link", "value": "/nodes/sop/point"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [3098, 3119], "text": [{"text": "", "fullpath": "/nodes/sop/vopsop", "scheme": "Node", "type": "link", "value": "/nodes/sop/vopsop"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "extent": [2992, 3001], "container": true, "type": "related_section", "id": "related"}], "title": ["Point Wrangle"], "summary": ["Runs a VEX snippet to modify point attributes, including position."], "attrs": {"version": null, "tags": "points, attrs, core, tech", "namespace": null, "internal": "pointwrangle", "context": "sop", "type": "node", "icon": "SOP/pointwrangle"}, "included": ["/nodes/sop/wrangle_syntax"], "type": "root"}