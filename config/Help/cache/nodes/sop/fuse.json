{"body": [{"indent": 0, "text": ["Fuse"], "type": "title", "extent": [0, 9], "level": 0}, {"indent": 0, "type": "summary", "extent": [107, 129], "text": ["Merges points."]}, {"indent": 0, "type": "para", "extent": [129, 249], "text": ["The Fuse SOP is used to snap points together or snap points to a 3D grid, and optionally fusing points after the snap."]}, {"indent": 0, "type": "para", "extent": [249, 599], "text": ["To restrict the points that can fuse and be fused to, points can be query points, or target points, or both. With only one input to the node, both query and target points are from the single input. However, with a second input to the node, only points in the first input can be query points and only points in the second input can be target points."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [604, 830], "text": ["When fusing multiple line primitives into a single line, they will still maintain separate primitives. If you wish to make the result into a single primitive, append the ", {"text": "", "fullpath": "/nodes/sop/join", "scheme": "Node", "type": "link", "value": "/nodes/sop/join"}, " SOP with ", {"text": ["Only Connected"], "type": "code"}, " enabled."]}], "indent": 0, "role": "item", "type": "tip", "extent": [599, 604]}], "container": true, "role": "item_group", "type": "tip_group"}, {"indent": 0, "type": "para", "extent": [830, 1097], "text": ["You can snap points based on their proximity to each other (given by the distance threshold) without fusing them. The snap type has more options on the actual snap behavior. This method is commonly used on a small selection of points in classic modeling operations."]}, {"indent": 0, "type": "para", "extent": [1097, 1432], "text": ["Snapping to a grid is useful for grabbing points and ordering them to a 3D grid. This method is commonly used on individual point selections in classic modeling operations. Snapping to a grid is also useful when outputting to low res consoles as you can truncate vertices to lie on a certain integer boundaries globally on the model."]}, {"indent": 0, "type": "para", "extent": [1432, 1650], "text": ["Snapping only moves points to new positions. To rewire the vertices of points that were snapped together, you can choose to fuse points after snapping so that only one point retains vertices from the original points."]}, {"indent": 0, "type": "para", "extent": [1650, 1884], "text": ["You can select point attributes and groups that you want to be modified after a point is snapped. You can also specify the heuristics for how the attributes values should be interpolated and how group membership should be assigned."]}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "ord", "extent": [1913, 1954], "text": ["Select the points you want to merge."]}, {"indent": 0, "blevel": 2, "type": "ord", "extent": [1954, 2034], "text": ["Click the ", {"text": "", "fullpath": "/nodes/sop/SOP/fuse", "scheme": "Icon", "type": "link", "value": "SOP/fuse"}, {"text": ["Fuse"], "fullpath": "/nodes/sop/fuse", "scheme": null, "type": "link", "value": "/nodes/sop/fuse"}, " tool on the ", {"text": ["Polygon"], "type": "ui"}, " tab."]}], "container": true, "type": "ord_group"}, {"indent": 0, "type": "para", "extent": [2034, 2196], "text": ["The merge is based on the proximity of the points to each other. The threshold distance for snapping can be modified in the ", {"text": ["parameter editor"], "fullpath": "/ref/panes/parms", "scheme": null, "type": "link", "value": "/ref/panes/parms"}, "."]}, {"indent": 0, "type": "para", "extent": [2196, 2272], "text": [{"text": "", "fullpath": "/images/shelf/fuse_before.png", "scheme": "Image", "type": "link", "value": "/images/shelf/fuse_before.png"}, "\n", {"text": "", "fullpath": "/images/shelf/fuse_after.png", "scheme": "Image", "type": "link", "value": "/images/shelf/fuse_after.png"}]}], "indent": 0, "level": 2, "text": ["Using Fuse"], "extent": [1884, 1913], "container": true, "type": "h", "id": "includeme"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [2313, 2357], "text": ["Subset of points that will be snapped."]}], "indent": 0, "text": ["Group"], "role": "item", "attrs": {"id": "querygroup"}, "extent": [2284, 2292], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2393, 2773], "text": ["When enabled, this is the subset of points that will be snapped to\n    by query points. Otherwise, the query group is also the target group,\n    and the behavior is as if ", {"text": ["Modify Target"], "type": "ui"}, " is on, regardless of its\n    actual value.\n    When there is a second input connected, this group refers to the\n    second input. When ", {"text": ["Snap Type"], "type": "ui"}, " is \"Grid\", there is no target group."]}], "indent": 0, "text": ["Target Group"], "role": "item", "attrs": {"id": "targetgroup"}, "extent": [2357, 2371], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2809, 3410], "text": ["When disabled, target point attribute values will stay fixed and be\n    copied over to query points, which is useful for fusing to existing\n    geometry.\n    When enabled, both query and target point attributes will be modified\n    and used to interpolate the new attribute value. This is useful if\n    you still want only one subset of points to fuse with another subset,\n    but so that both subsets can be modified (for example, when snapping\n    two mirrored halves together).\n    This parameter is not applicable when a second input is connected,\n    since that geometry cannot be modified."]}], "indent": 0, "text": ["Modify Target"], "role": "item", "attrs": {"id": "modifyboth"}, "extent": [2773, 2788], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3450, 3995], "text": ["This attribute will be used as the position for determining what to\n    snap where.  This attribute can be a point, vertex, or primitive\n    attribute in the first input, and can be a point, vertex, primitive,\n    or detail attribute in the second input; they do not need to be the\n    same.  The ", {"text": ["Group"], "type": "ui"}, " and ", {"text": ["Target Group"], "type": "ui"}, " parameters will be parsed\n    as the corresponding type of group.  If this attribute is not a point\n    attribute in the first input, the Fuse options do not apply, because\n    only points can be fused together."]}], "indent": 0, "text": ["Position Attribute"], "role": "item", "attrs": {"id": "posattrib"}, "extent": [3410, 3430], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4023, 4201], "text": ["The method used to which points to snap where. The \"Points\" snap\n    type snaps points within the tolerance together. The \"Grid\" snap type\n    snaps to points in a 3D grid."]}], "indent": 0, "text": ["Snap To"], "role": "item", "attrs": {"id": "snaptype"}, "extent": [3995, 4004], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [4244, 4762], "text": ["The overall method used for determining which points to snap together.\n    The \"Least Target Point Number\" method snaps points to the lowest\n    target point number in range, which can ensure that after snapping,\n    if ", {"text": ["Output Positions"], "type": "ui"}, " is \"Least Point Number\", no differently\n    snapped points will be within ", {"text": ["Snap Distance"], "type": "ui"}, " of each other.\n    The \"Closest Target Point\" method snaps points to the closest\n    target point, if it is in range, which is preferable if snapping\n    disjoint pieces together."]}], "indent": 0, "text": ["Using"], "role": "item", "attrs": {"id": "algorithm"}, "extent": [4216, 4224], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4793, 4844], "text": ["The maximum distance to snap points together."]}], "indent": 0, "text": ["Snap Distance"], "role": "item", "attrs": {"id": "tol3d"}, "extent": [4762, 4777], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4891, 4993], "text": ["The method to use to combine values of ", {"text": ["Position Attribute"], "type": "ui"}, "\n    when snapping points together."]}], "indent": 0, "text": ["Output Positions"], "role": "item", "attrs": {"id": "positionsnapmethod"}, "extent": [4844, 4862], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5034, 5294], "text": ["When enabled, the point attribute with this name is used to specify\n    the radii of the points. Two points will be able to fuse together\n    if the closest distance between their spheres with\n    the corresponding radius is within the ", {"text": ["Snap Distance"], "type": "ui"}, "."]}], "indent": 0, "text": ["Radius Attribute"], "role": "item", "attrs": {"id": "radiusattrib"}, "extent": [4993, 5011], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5333, 5636], "text": ["When enabled, the point attribute with this name is used to limit\n    which points can be snapped together by comparing this attribute\u2019s\n    values for the corresponding points.  The comparison is specified\n    by the ", {"text": ["Match Type"], "type": "ui"}, ".  This attribute can only be an integer or\n    string attribute."]}], "indent": 0, "text": ["Match Attribute"], "role": "item", "attrs": {"id": "matchattrib"}, "extent": [5294, 5311], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5673, 6179], "text": ["The comparison to use for comparing the ", {"text": ["Match Attribute"], "type": "ui"}, " values of points.\n    \"Equal Attribute Values\" requires values of ", {"text": ["Match Attribute"], "type": "ui"}, " to be equal in order for\n    points to be considered for snapping together, which is useful for snapping within\n    several separate pieces and not between pieces.  \"Unequal Attribute Values\" requires that\n    at least one point has a different value than the rest, which is useful for snapping\n    between several separate pieces and not within pieces."]}], "indent": 0, "text": ["Match Condition"], "role": "item", "attrs": {"id": "matchtype"}, "extent": [5636, 5653], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Points"], "extent": [4201, 4216], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [6223, 6258], "text": ["How to specify the grid size."]}], "indent": 0, "text": ["Grid Type"], "role": "item", "attrs": {"id": "gridtype"}, "extent": [6192, 6204], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [6294, 6342], "text": ["The number of units between each grid line"]}], "indent": 0, "text": ["Grid Spacing"], "role": "item", "attrs": {"id": "gridspacing"}, "extent": [6258, 6272], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [6374, 6415], "text": ["The number of grid lines every unit"]}], "indent": 0, "text": ["Grid Lines"], "role": "item", "attrs": {"id": "gridlines"}, "extent": [6342, 6354], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [6448, 6565], "text": ["The same as gridlines, but a power of two is specified. This\n    means a value of 7 means 128, and 9 means 512."]}], "indent": 0, "text": ["Grid Power 2"], "role": "item", "attrs": {"id": "gridpow2"}, "extent": [6415, 6429], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [6599, 6692], "text": ["A number from 0 to 1 which specifies what offset the grid\n    should have from (0,0,0)."]}], "indent": 0, "text": ["Grid Offset"], "role": "item", "attrs": {"id": "gridoffset"}, "extent": [6565, 6578], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [6727, 6774], "text": ["Which way points should snap to the grid."]}], "indent": 0, "text": ["Grid Rounding"], "role": "item", "attrs": {"id": "gridround"}, "extent": [6692, 6707], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [6808, 6858], "text": ["Maximum distance to move points to grid"]}], "indent": 0, "text": ["Grid Tolerance"], "role": "item", "attrs": {"id": "gridtol"}, "extent": [6774, 6790], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Grid"], "extent": [6179, 6192], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [6926, 7082], "text": ["When enabled, points that are snapped to the same position will be replaced\n    with a single point, connected to all vertices of the original points."]}], "indent": 0, "text": ["Fuse Snapped Points"], "role": "item", "attrs": {"id": "consolidatesnappedpoints"}, "extent": [6869, 6891], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [7134, 7244], "text": ["When enabled, points that would otherwise be deleted by the\n    ", {"text": ["Fuse Snapped Points"], "type": "ui"}, " option are kept."]}], "indent": 0, "text": ["Keep Fused Points"], "role": "item", "attrs": {"id": "keepconsolidatedpoints"}, "extent": [7082, 7101], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [7315, 7546], "text": ["Remove sequential vertices that reference the same point in polygons or\n    curves, and then deletes any degenerate primitives, such as closed polygons\n    with 2 or fewer vertices, or polygon curves with 1 or fewer vertices."]}], "indent": 0, "text": ["Remove Repeated Vertices and Degenerate Primitives"], "role": "item", "attrs": {"id": "deldegen"}, "extent": [7244, 7296], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [7620, 7740], "text": ["Remove any points that no longer have vertices connected to them\n    due to the deletion of degenerate primitives."]}], "indent": 0, "text": ["Remove Unused Points from Degenerate Primitives"], "role": "item", "attrs": {"id": "deldegenpoints"}, "extent": [7546, 7595], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [7792, 7857], "text": ["Remove all points that have no vertices connected to them."]}], "indent": 0, "text": ["Remove All Unused Points"], "role": "item", "attrs": {"id": "delunusedpoints"}, "extent": [7740, 7766], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Fuse"], "extent": [6858, 6869], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [7944, 8033], "text": ["Recomputes any normals that are affected by polygons that use any\n    fused points."]}], "indent": 0, "text": ["Recompute Affected Normals"], "role": "item", "attrs": {"id": "recomputenml"}, "extent": [7892, 7921], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [8082, 8198], "text": ["When enabled, a point group with this name is created containing all\n    points that snapped to another point."]}], "indent": 0, "text": ["Snapped Points Group"], "role": "item", "attrs": {"id": "snappedgroupname"}, "extent": [8033, 8055], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [8257, 8420], "text": ["When enabled, a point attribute with this name is created, which\n    contains the point number of the point that was snapped to, or -1\n    if not applicable."]}], "indent": 0, "text": ["Snapped Destination Attribute"], "role": "item", "attrs": {"id": "snappedattribname"}, "extent": [8198, 8229], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [8466, 8524], "text": ["The number of patterns of attributes to be modified."]}], "indent": 0, "text": ["Attributes to Snap"], "role": "item", "attrs": {"id": "numpointattribs"}, "extent": [8420, 8440], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [8539, 8919], "text": ["The heuristic to use to determine the new attribute value of a point\n    based on the points that it snapped to. These interpolate over only\n    target points, unless ", {"text": ["Modify Target"], "type": "ui"}, " is enabled.\n    \"First Match\" will snap to the attribute value of the point with\n    the least point number. Likewise, \"Last Match\" will snap to the point\n    with the greatest number. "]}], "indent": 0, "text": ["Output Values"], "role": "item", "extent": [8524, 8539], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [8937, 9088], "text": ["The point attributes that you want to be merged together after fusing.\n    Only certain types of attributes can be used for each ", {"text": ["Snap Method"], "type": "ui"}, "."]}], "indent": 0, "text": ["Point Attributes"], "role": "item", "extent": [8919, 8937], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [9124, 9178], "text": ["The number of patterns of groups to be modified."]}], "indent": 0, "text": ["Groups to Snap"], "role": "item", "attrs": {"id": "numgroups"}, "extent": [9088, 9104], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [9197, 9319], "text": ["The heuristic to use to determine how the points get assigned to the\n    Point Groups of the points they snapped to."]}], "indent": 0, "text": ["Group Propagation"], "role": "item", "extent": [9178, 9197], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [9338, 9458], "text": ["The names of the point groups that you want to be updated after\n    fusing according to the ", {"text": ["Group Propagation"], "type": "ui"}, "."]}], "indent": 0, "text": ["Point Group Names"], "role": "item", "extent": [9319, 9338], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Output Attributes and Groups"], "extent": [7857, 7892], "container": true, "type": "h", "id": null}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [2272, 2284], "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "extent": [9467, 9491], "text": [{"text": "", "fullpath": "/nodes/sop/pointweld", "scheme": "Node", "type": "link", "value": "/nodes/sop/pointweld"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [9491, 9510], "text": [{"text": "", "fullpath": "/nodes/sop/facet", "scheme": "Node", "type": "link", "value": "/nodes/sop/facet"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [9510, 9530], "text": [{"text": "", "fullpath": "/nodes/sop/uvfuse", "scheme": "Node", "type": "link", "value": "/nodes/sop/uvfuse"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "extent": [9458, 9467], "container": true, "type": "related_section", "id": "related"}], "summary": ["Merges points."], "type": "root", "attrs": {"version": "2.0", "tags": "topology, points", "namespace": null, "internal": "fuse", "context": "sop", "type": "node", "icon": "SOP/fuse"}, "title": ["Fuse"]}