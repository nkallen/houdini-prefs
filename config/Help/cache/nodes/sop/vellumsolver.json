{"body": [{"indent": 0, "text": ["Vellum Solver"], "type": "title", "extent": [84, 102], "level": 0}, {"indent": 0, "type": "summary", "extent": [102, 144], "text": ["Runs a dynamic Vellum simulation."]}, {"indent": 0, "type": "para", "extent": [144, 239], "text": ["The Vellum Solver is a wrapper around a DOP network to simplify the running of\nVellum solves."]}, {"indent": 0, "type": "para", "extent": [239, 1006], "text": ["Like most Vellum SOPs, it is a three input SOP.   The first input is\nthe surface geometry to solve.  The second input should have the same\nnumber of points as the first, with point-to-point correspondence\neither with point numbers or ", {"text": ["id"], "type": "code"}, " attributes.   The second input\nalso should have special primitives describing the constraint relationships.\nConstraints are how the connectivity between points are defined and controlled\nand can be created with a Vellum Constraints SOP.   Note that the network tab\nmenu has several macros to refer to common setups, such as Vellum\nConfigure Cloth.   The third input provides the collision geometry.\nThe collision geometry should have matching topology frame-to-frame.\nIn addition, some types of packed geometry are recognized."]}, {"indent": 0, "type": "para", "extent": [1006, 1247], "text": ["You can dive into the solver to add DOP nodes to apply special forces.\nYou can also use the ", {"text": ["Vellum Constraint Property"], "fullpath": "/nodes/dop/vellumconstraintproperty", "scheme": "Node", "type": "link", "value": "/nodes/dop/vellumconstraintproperty"}, "\nDOP to adjust the constraint properties during the solve using these\ninternal nodes."]}, {"indent": 0, "type": "para", "extent": [1247, 1383], "text": ["If using ", {"text": ["collisionignore"], "type": "code"}, ", the third input\u2019s object can be referred\nto as ", {"text": ["external"], "type": "code"}, " and the generated ground plane as ", {"text": ["groundplane"], "type": "code"}, "."]}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [1435, 1476], "text": ["Clears the entire simulation cache."]}], "indent": 0, "text": ["Reset Simulation"], "role": "item", "attrs": {"id": "resimulate"}, "extent": [1395, 1414], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1510, 1586], "text": ["What frame on the Houdini playbar that the simulation should begin at."]}], "indent": 0, "text": ["Start Frame"], "role": "item", "attrs": {"id": "startframe"}, "extent": [1476, 1489], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [1632, 1939], "text": ["Scales the effective time of the Vellum solve.  This can be used to\n    create bullet-time like effects where the physics of the Vellum\n    solver run at a different rate than the Houdini playbar.  A\n    value of 2 will cause cloth to fall twice as fast, and 0.1\n    will slow it to a tenth the speed."]}], "indent": 0, "text": ["Time Scale"], "role": "item", "attrs": {"id": "timescale"}, "extent": [1599, 1612], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1968, 2112], "text": ["Each frame will be broken into this number of substeps.  Additional\n    substeps are required for fast moving collisions or sudden forces."]}, {"indent": 4, "type": "para", "extent": [2112, 2266], "text": ["The default substeps can be very aggressive, usually if the\n    Vellum solver is too stretchy, raising substeps to 2 or 5 is\n    a good first start."]}], "indent": 0, "text": ["Substeps"], "role": "item", "attrs": {"id": "substeps"}, "extent": [1939, 1949], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2305, 2593], "text": ["Within each substep, this number of passes will be taken by the\n    constraint enforcement operations.   Stiff constraints can\n    require more iterations to converge.  A good starting point\n    is the diameter of the geometry - the number of edges between\n    the farthest points."]}], "indent": 0, "text": ["Constraint Iterations"], "role": "item", "attrs": {"id": "niter"}, "extent": [2266, 2289], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2636, 3174], "text": ["The default constraint iterations use a Gauss-Seidel approach that\n    is fast to converge.  However, if it doesn\u2019t fully converge due to\n    too high stiffness, or impossible configurations, it will leave the error\n    as bad looking triangles.  The smoothing iterations use a Jacobi\n    approach which is slower to converge but leaves error spread out\n    in a more attractive fashion.  The default of ten passes helps\n    smooth out error, but might need to be increased if the overall\n    ", {"text": ["Constraint Iterations"], "type": "ui"}, " is very high."]}], "indent": 0, "text": ["Smoothing Iterations"], "role": "item", "attrs": {"id": "smoothiter"}, "extent": [2593, 2615], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [3240, 3297], "text": ["Controls if any collision detection is done at all."]}], "indent": 0, "text": ["Enable Collisions"], "role": "item", "attrs": {"id": "enablecollisions"}, "extent": [3193, 3213], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3341, 3388], "text": ["Controls if self collisions are detected."]}], "indent": 0, "text": ["Self Collisions"], "role": "item", "attrs": {"id": "doselfcollisions"}, "extent": [3297, 3314], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3422, 3525], "text": ["Adds a ground plane to the simulation.  The ground plane will\n    be visualized with a blue grid."]}], "indent": 0, "text": ["Ground Plane"], "role": "item", "attrs": {"id": "useground"}, "extent": [3388, 3402], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3562, 3612], "text": ["Location of the center of the ground plane."]}], "indent": 0, "text": ["Ground Position"], "role": "item", "attrs": {"id": "groundpos"}, "extent": [3525, 3542], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3655, 4098], "text": ["Number of collision detection passes to perform.  These are interleaved\n    between the constraint iterations.  Since collision is expensive, it is\n    best to minimize this.   But frequent interleaving helps avoid tent-poling\n    effects where a small collider is fighting with the no-stretch constraints.\n    In practice we find 10 to be correct for most situations, and substeps\n    often being a better solution to increase quality."]}], "indent": 0, "text": ["Collision Passes"], "role": "item", "attrs": {"id": "collisionsiter"}, "extent": [3612, 3630], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4149, 4636], "text": ["After all constraints are performed, a final round of collision detection\n    is done.   Collisions are often the most noticeable failure mode, and it\n    is ideal if the next frame can start with non-intersecting geometry.\n    Thus a final cleanup pass can achieve these requirements.   We have\n    found that \"number of stacked layers + 2\" is a good estimate for this\n    number.   This allows the effect of the underlying collider to ripple\n    through the stacked layers fully."]}], "indent": 0, "text": ["Post Collision Passes"], "role": "item", "attrs": {"id": "postcollisioniter"}, "extent": [4098, 4121], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4675, 4958], "text": ["In any collision pass, any colliding pair may not be fully resolved.   This\n    number of additional collider-pair passes will be run until they are\n    resolved.  Since these are only performed on active colliders (and no new\n    collision search is done) this is very cheap."]}], "indent": 0, "text": ["Polish Passes"], "role": "item", "attrs": {"id": "resolveallmax"}, "extent": [4636, 4651], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4992, 5537], "text": ["The ", {"text": ["layer"], "type": "code"}, " integer point attribute is used to flag point as belonging\n    to different layers of cloth.  Higher numbers refer to higher layers.\n    Layer Shock will make lower layers this many times heavier during collision\n    evaluation, ensuring the higher layers will move out of their way.  The\n    rest of the dynamics are unaffected by this, and the difference is fixed\n    regardless of the number of layers between the two.  This can be thought\n    of as a way to dial between one-way layering of sims and fully coupled\n    sims."]}], "indent": 0, "text": ["Layer Shock"], "role": "item", "attrs": {"id": "layershock"}, "extent": [4958, 4971], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Collisions"], "extent": [3174, 3193], "container": true, "type": "h", "id": null}], "indent": 0, "level": 2, "text": ["Solver"], "extent": [1586, 1599], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [5578, 5616], "text": ["Uniform gravity force to apply."]}], "indent": 0, "text": ["Gravity"], "role": "item", "attrs": {"id": "gravity"}, "extent": [5550, 5560], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5637, 5821], "text": ["A uniform wind direction.  Since this is a drag force, a wind of zero\n    will act like still air and slow everything down; and a high wind will\n    speed cloth up to that speed."]}], "indent": 0, "text": ["Wind"], "role": "item", "attrs": {"id": "wind"}, "extent": [5616, 5622], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5851, 6072], "text": ["The amount the particles are dragged by the wind force.  This is also\n    scaled by the tangential and normal drag forces specified on the\n    Vellum Constraints SOP to provide unequal drag depending on orientation."]}], "indent": 0, "text": ["Wind Drag"], "role": "item", "attrs": {"id": "winddrag"}, "extent": [5821, 5832], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [6111, 6278], "text": ["A more brute force approach to reducing dynamic velocity - the velocity\n    is scaled directly by this amount, causing sudden movements to\n    be quickly damped."]}], "indent": 0, "text": ["Velocity Damping"], "role": "item", "attrs": {"id": "veldamping"}, "extent": [6072, 6090], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [6341, 6625], "text": ["A threshold at which to apply full friction.  When the ratio of the tangential velocity and the normal impulse is less than this, the tangential velocity will be fully eliminated through friction.  This is roughly tan() of the slope angle that will allow sliding under gravity."]}], "indent": 0, "text": ["Static Threshold"], "role": "item", "attrs": {"id": "static_threshold"}, "extent": [6295, 6314], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [6664, 6800], "text": ["If the static threshold fails, this controls what percentage the tangential velocity will be reduced in the dynamic friction case."]}], "indent": 0, "text": ["Dynamic Scale"], "role": "item", "attrs": {"id": "dynamic_scale"}, "extent": [6625, 6640], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [6836, 6937], "text": ["A scale factor on the amount of friction effect to apply for collisions with external geometry."]}], "indent": 0, "text": ["Enable External"], "role": "item", "attrs": {"id": "friction"}, "extent": [6800, 6817], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [6973, 7070], "text": ["A scale factor on the amount of friction effect to apply for collisions with self geometry."]}], "indent": 0, "text": ["Enable Self"], "role": "item", "attrs": {"id": "selffriction"}, "extent": [6937, 6950], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [7117, 7221], "text": ["A scale factor for the ground plane\u2019s static friction.  Useful to\n    create frictionless grounds."]}], "indent": 0, "text": ["Ground Static Scale"], "role": "item", "attrs": {"id": "static_sdfscale"}, "extent": [7070, 7091], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [7270, 7375], "text": ["A scale factor for the ground plane\u2019s dynamic friction.  Useful to\n    create frictionless grounds."]}], "indent": 0, "text": ["Ground Dynamic Scale"], "role": "item", "attrs": {"id": "dynamic_sdfscale"}, "extent": [7221, 7243], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Friction"], "extent": [6278, 6295], "container": true, "type": "h", "id": null}], "indent": 0, "level": 2, "text": ["Forces"], "extent": [5537, 5550], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [7431, 7484], "text": ["Controls if the simulation is cached to memory."]}], "indent": 0, "text": ["Cache Enabled"], "role": "item", "attrs": {"id": "cacheenabled"}, "extent": [7392, 7408], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [7526, 7565], "text": ["Maximum size of the memory cache."]}], "indent": 0, "text": ["Cache Memory (MB)"], "role": "item", "attrs": {"id": "cachemaxsize"}, "extent": [7484, 7503], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [7607, 7637], "text": ["Style of the simulation."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [7654, 7860], "text": ["Each frame the simulation takes the inputs and runs them forward\n        the given number of frames.  The final result becomes that frames\n        result.   No frame-to-frame coherency is present."]}], "indent": 4, "type": "dt", "extent": [7637, 7654], "text": ["Quasistatic"]}, {"body": [{"indent": 8, "type": "para", "extent": [7873, 7991], "text": ["Each frame is solved from the previous frame, and the inputs are\n        used to setup the first frame only."]}], "indent": 4, "type": "dt", "extent": [7860, 7873], "text": ["Dynamic"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Simulation Type"], "role": "item", "attrs": {"id": "simulationtype"}, "extent": [7565, 7582], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [8039, 8115], "text": ["The number of frames to roll forward for the quasi-static simulation."]}], "indent": 0, "text": ["Quasistatic Frames"], "role": "item", "attrs": {"id": "quasistaticframes"}, "extent": [7991, 8011], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [8154, 8354], "text": ["All dynamic forces and states, such as velocities, are removed from\n    the output.   This allows the output of a clean state to start\n    a new simulation from, such as when completing a drape."]}], "indent": 0, "text": ["Clear Dynamics"], "role": "item", "attrs": {"id": "zerodynamics"}, "extent": [8115, 8131], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Simulation"], "extent": [7375, 7392], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [8401, 8670], "text": ["Points on the simulation mesh can be marked as ", {"text": ["Pin to Target"], "type": "ui"}, " to follow the targeted animation.   By default, this target is the first input.  But in some cases the animation you wish to target may be present in another SOP node, so that can be specified here."]}], "indent": 0, "text": ["Target"], "role": "item", "attrs": {"id": "targetmethod"}, "extent": [8369, 8378], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [8704, 8911], "text": ["The path of a node to refer to when simulation points are set to the\n    target animation.  Should have a one-to-one point correspondence\n    with the simulation points, either by point number or ", {"text": ["id"], "type": "code"}, "."]}], "indent": 0, "text": ["Target Path"], "role": "item", "attrs": {"id": "targetpath"}, "extent": [8670, 8683], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [8946, 9225], "text": ["When integrating points forward by their velocities, curved motions\n    like swinging pendulums will be mispredicted and be damped by\n    the constraint projections.   A second order predictor recovers more of\n    this curved motion and maintains more energy in the system."]}, {"indent": 4, "type": "para", "extent": [9225, 9343], "text": ["In any case, if collisions are detected the system will fall back\n    to first rder to avoid excessive bouncing."]}], "indent": 0, "text": ["Integration"], "role": "item", "attrs": {"id": "integration"}, "extent": [8911, 8924], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"indent": 0, "type": "para", "extent": [9343, 9368], "text": ["=== Multi-Pass Solve =="]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [9409, 9977], "text": ["The multi-pass options allow a substep to be repeated until certain\n    conditions are met.  The current conditions are designed to fix\n    issues that are caused by disabled points causing geometry to be\n    caught and cause the undisabled points to generate stretching.  Since\n    collisions always pre-empt constraints, the result is cloth or\n    hair stretching.  Points adjacent to auto-disabled points will\n    be themselves disabled if too much stretching is detected.  The\n    solve step will then be repeated in the hopes this frees up the\n    geometry."]}], "indent": 0, "text": ["Enable Multi-Pass"], "role": "item", "attrs": {"id": "domultipass"}, "extent": [9368, 9387], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [10016, 10150], "text": ["The maximum number of times to repeat the substep.  If no new\n    points need to be disabled, the process will stop immediately."]}], "indent": 0, "text": ["Maximum Passes"], "role": "item", "attrs": {"id": "maxmultipass"}, "extent": [9977, 9993], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [10203, 10529], "text": ["The amount of stretch at the end of a solve step that will trigger\n    points to be eligible for disabling.  This is to detect when failed\n    collisions are pulling the vellum object apart. By failing additional\n    points the object usually can be released and result in a better\n    result than continuing to stretch."]}], "indent": 0, "text": ["Disable Stretch Ratio"], "role": "item", "attrs": {"id": "disablestretchratio"}, "extent": [10150, 10173], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [10582, 10776], "text": ["Various acceleration limiting options can be used to prevent the\n    simulation from being over-eager to obey non-realistic forces.   These\n    can otherwise result in large energy spikes."]}], "indent": 0, "text": ["Max Acceleration"], "role": "item", "attrs": {"id": "maxaccel"}, "extent": [10544, 10563], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [10850, 11148], "text": ["If ", {"text": ["Max Acceleration"], "type": "ui"}, " is exceeded for a point, assume it signals a sharp,\n    discontinuous collision where the second order prediction will be wrong\n    and add erroneous motion, often in the form of bouncing.  In this case,\n    fallback to first order integration for the affected point."]}], "indent": 0, "text": ["Fallback to First Order Integration on Collision"], "role": "item", "attrs": {"id": "accelfallback"}, "extent": [10776, 10826], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [11208, 11449], "text": ["Cap the amount that velocity of a particle is allowed to change as a\n    result of any of the dynamics.   This is useful to prevent some\n    instant motion being mis-identified as a massive force, and thus\n    avoid fly-away particles."]}], "indent": 0, "text": ["Limit Acceleration in Velocity Update"], "role": "item", "attrs": {"id": "limitaccel"}, "extent": [11148, 11187], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [11506, 11774], "text": ["During the collision resolution, if the collision correction moves a\n    particle more than the acceleration amount, cap the effect.  The hope\n    is to fail more gracefully when a part of a model snags on the cloth\n    and is pulling it in a surprising fashion."]}], "indent": 0, "text": ["Limit Displacement on Collision"], "role": "item", "attrs": {"id": "limitdisplace"}, "extent": [11449, 11482], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [11825, 12280], "text": ["When a weld breaks, the two new points start off next to each other.\n    If the surfaces do not separate naturally due to whatever triggered\n    the break, they may trigger collision detection and be pushed out,\n    causing an explosive motion when breaking occurs.  This option\n    sets the ", {"text": ["disableself"], "type": "code"}, " attribute when points are de-welded to avoid\n    these self collisions.  Note that this may cause layered cloth to\n    self penetrate, however."]}], "indent": 0, "text": ["Disable Broken Welds"], "role": "item", "attrs": {"id": "disablebrokenwelds"}, "extent": [11774, 11796], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [12324, 12465], "text": ["Normalize the stress computation over time, so that the computed values\n    are more predictable as the ", {"text": ["Substeps"], "type": "ui"}, " parameter changes."]}], "indent": 0, "text": ["Normalize Stress"], "role": "item", "attrs": {"id": "normalizestress"}, "extent": [12280, 12298], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [12505, 13115], "text": ["The method used for finding the next closest position on the target geometry\n    when sliding ", {"text": ["Attach to Geometry"], "type": "ui"}, " or ", {"text": ["Stitch Points"], "type": "ui"}, " constraints.\n    ", {"text": ["Closest Point"], "type": "ui"}, " simply chooses the closest point on the target geometry to\n    the projected sliding position.  This approach is fast but can improperly jump\n    across concavities in the target geometry.  ", {"text": ["Traverse Polygons"], "type": "ui"}, " starts from\n    the current target primitive and successively walks outwards, finding the closest\n    point on the surrounding primitives.  This approach is more expensive but handles\n    concave target geometry better."]}], "indent": 0, "text": ["Sliding Method"], "role": "item", "attrs": {"id": "slidingmethod"}, "extent": [12465, 12481], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Motion"], "extent": [10529, 10544], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [13178, 13574], "text": ["When doing graph coloring, a fast parallel OpenCL algorithm is used.\n    Unfortunately it may require 10\u00d7 more memory than the rest of the\n    solve on tetrahedral meshes.  Thus, systems that might fit in memory\n    for solving will not succeed the color pass.  Disabling this forces\n    all graph coloring to be done in a slower sequential manner, preserving\n    RAM for the actual solve."]}], "indent": 0, "text": ["OpenCL Graph Coloring"], "role": "item", "attrs": {"id": "oclgraphcolor"}, "extent": [13130, 13154], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["OpenCL"], "extent": [13115, 13130], "container": true, "type": "h", "id": null}], "indent": 0, "level": 2, "text": ["Advanced"], "extent": [8354, 8369], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [13631, 13684], "text": ["Show the collision object as a blue wireframe."]}], "indent": 0, "text": ["Show Collision"], "role": "item", "attrs": {"id": "showcollision"}, "extent": [13590, 13607], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [13725, 13778], "text": ["Show additional guide geometry from the solver."]}], "indent": 0, "text": ["Show Guide Geometry"], "role": "item", "attrs": {"id": "showguide"}, "extent": [13684, 13705], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [60, 429], "text": ["Draw spheres for the ", {"text": ["pscale"], "type": "code"}, " of the geometry.   If the geometry has already\n    solved it may have set the ", {"text": ["overlap_self"], "type": "code"}, " attribute, if so, the actual\n    effective thickness is drawn in cyan.  This is useful to detect if\n    the original thickness was too high - if so the extra thickness will\n    be ignored by the simulation and just slow down the collisions."]}], "indent": 0, "text": ["Thickness"], "role": "item", "attrs": {"id": "guide_thicknesscolor"}, "extent": [17, 29], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [475, 583], "text": ["Draw the thickness by offsetting the geometry in opposite directions rather\n    than by using spheres."]}], "indent": 0, "text": ["Extrude"], "role": "item", "attrs": {"id": "guide_showthicknessextrude"}, "extent": [429, 438], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [633, 801], "text": ["Draw failed self collisions as red spheres.  These points will no\n    longer collide with their own geometry, nor will any edge or triangle\n    attached to them."]}], "indent": 0, "text": ["Failed Self Collision"], "role": "item", "attrs": {"id": "guide_failedself"}, "extent": [583, 606], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [859, 1032], "text": ["Draw failed external collisions as orange spheres.  These points will\n    no longer collide with external geometry, nor will any edge or triangle\n    attached to them."]}], "indent": 0, "text": ["Failed External Collision"], "role": "item", "attrs": {"id": "guide_failedexternal"}, "extent": [801, 828], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1065, 1257], "text": ["Draw which points have been semantically fused together with the\n    ", {"text": ["weld"], "type": "code"}, " attribute.  These can be broken during the solve using\n    the auto break options, or by setting ", {"text": ["weld"], "type": "code"}, " to -1."]}], "indent": 0, "text": ["Welds"], "role": "item", "attrs": {"id": "guide_weldcolor"}, "extent": [1032, 1039], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1299, 1471], "text": ["Because the thickness may be small, the visualization spheres can sometimes\n    be lost.  This scales the visualization spheres allowing them to\n    be readily seen."]}], "indent": 0, "text": ["Radius Scale"], "role": "item", "attrs": {"id": "guide_colvisscale"}, "extent": [1257, 1271], "type": "parameters_item"}], "container": true, "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Geometry"], "extent": [0, 17], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [1531, 1653], "text": ["Constraints are often added to different groups.  This allows you to\n    isolate one particular group to visualize."]}], "indent": 0, "text": ["Group"], "role": "item", "attrs": {"id": "guide_constraintgroup"}, "extent": [1491, 1499], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1693, 1755], "text": ["Draw spheres over points pinned to the target animation."]}], "indent": 0, "text": ["Pin to Target"], "role": "item", "attrs": {"id": "guide_pincolor"}, "extent": [1653, 1668], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1798, 1856], "text": ["Draw stitch constraints of points stitched together."]}], "indent": 0, "text": ["Stitch Points"], "role": "item", "attrs": {"id": "guide_stitchcolor"}, "extent": [1755, 1770], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1904, 1979], "text": ["Draw attachment constraints for points attached to external geometry."]}], "indent": 0, "text": ["Attach to Geometry"], "role": "item", "attrs": {"id": "guide_attachcolor"}, "extent": [1856, 1876], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2023, 2153], "text": ["The constraint guides are not scaled by the thickness of the object,\n    so this provides an absolute scale for their size."]}], "indent": 0, "text": ["Radius"], "role": "item", "attrs": {"id": "guide_constraintvisradius"}, "extent": [1979, 1987], "type": "parameters_item"}], "container": true, "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Constraints"], "extent": [1471, 1491], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [2213, 2297], "text": ["Visualize properties of the constraints using a blue-to-red infrared coloring."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [2307, 2343], "text": ["Leave the original colors."]}], "indent": 4, "type": "dt", "extent": [2297, 2307], "text": ["None"]}, {"body": [{"indent": 8, "type": "para", "extent": [2363, 2448], "text": ["Color according to the maximum stretching force applied by the constraints."]}], "indent": 4, "type": "dt", "extent": [2343, 2363], "text": ["Stretch Stress"]}, {"body": [{"indent": 8, "type": "para", "extent": [2465, 2547], "text": ["Color according to the maximum bending force applied by the constraints."]}], "indent": 4, "type": "dt", "extent": [2448, 2465], "text": ["Bend Stress"]}, {"body": [{"indent": 8, "type": "para", "extent": [2569, 2632], "text": ["Color according to how far constraints are stretched."]}], "indent": 4, "type": "dt", "extent": [2547, 2569], "text": ["Stretch Distance"]}, {"body": [{"indent": 8, "type": "para", "extent": [2651, 2724], "text": ["Color according the ratio between original and current stretch."]}], "indent": 4, "type": "dt", "extent": [2632, 2651], "text": ["Stretch Ratio"]}, {"body": [{"indent": 8, "type": "para", "extent": [2740, 2814], "text": ["Color according to how many degrees the bend angle has deviated."]}], "indent": 4, "type": "dt", "extent": [2724, 2740], "text": ["Bend Angle"]}, {"body": [{"indent": 8, "type": "para", "extent": [2840, 2922], "text": ["Color according to how much the stretch plastic flow has been triggered."]}], "indent": 4, "type": "dt", "extent": [2814, 2840], "text": ["Stretch Plastic Flow"]}, {"body": [{"indent": 8, "type": "para", "extent": [2945, 3024], "text": ["Color according to how much the bend plastic flow has been triggered."]}], "indent": 4, "type": "dt", "extent": [2922, 2945], "text": ["Bend Plastic Flow"]}, {"body": [{"indent": 8, "type": "para", "extent": [3043, 3128], "text": ["Color according to the maximum volumetric force applied by the constraints."]}], "indent": 4, "type": "dt", "extent": [3024, 3043], "text": ["Volume Stress"]}, {"body": [{"indent": 8, "type": "para", "extent": [3149, 3245], "text": ["Color according to how far volumetric constraints have expanded from their rest state."]}], "indent": 4, "type": "dt", "extent": [3128, 3149], "text": ["Volume Distance"]}, {"body": [{"indent": 8, "type": "para", "extent": [3263, 3348], "text": ["Color according the ratio between volumetric expansion and the rest state."]}], "indent": 4, "type": "dt", "extent": [3245, 3263], "text": ["Volume Ratio"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["False Color Mode"], "role": "item", "attrs": {"id": "vis_mode"}, "extent": [2175, 2194], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3405, 3495], "text": ["Toggles if the simulation geometry is false-colored in addition to the constraints."]}], "indent": 0, "text": ["Display Visualization Geometry"], "role": "item", "attrs": {"id": "vis_displaygeo"}, "extent": [3348, 3380], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3546, 3616], "text": ["Scales the maximum stretch stress to be the maximum coloration."]}], "indent": 0, "text": ["Max Stretch Stress"], "role": "item", "attrs": {"id": "vis_maxstretchstress"}, "extent": [3495, 3515], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3661, 3727], "text": ["Scales the maximum bend stress to be the maximum coloration."]}], "indent": 0, "text": ["Max Bend Stress"], "role": "item", "attrs": {"id": "vis_maxbendstress"}, "extent": [3616, 3633], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3782, 3851], "text": ["Sets the maximum stretch distance to be the maximum coloration."]}], "indent": 0, "text": ["Max Stretch Distance"], "role": "item", "attrs": {"id": "vis_maxstretchdistance"}, "extent": [3727, 3749], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3900, 3966], "text": ["Sets the maximum stretch ratio to be the maximum coloration."]}], "indent": 0, "text": ["Max Stretch Ratio"], "role": "item", "attrs": {"id": "vis_maxstretchratio"}, "extent": [3851, 3870], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4009, 4072], "text": ["Sets the maximum bend angle to be the maximum coloration."]}], "indent": 0, "text": ["Max Bend Angle"], "role": "item", "attrs": {"id": "vis_maxbendangle"}, "extent": [3966, 3982], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4134, 4207], "text": ["Sets the maximum stretch plastic flow to be the maximum coloration."]}], "indent": 0, "text": ["Max Stretch Plastic Flow"], "role": "item", "attrs": {"id": "vis_maxstretchplasticflow"}, "extent": [4072, 4098], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4263, 4333], "text": ["Sets the maximum bend plastic flow to be the maximum coloration."]}], "indent": 0, "text": ["Max Bend Plastic Flow"], "role": "item", "attrs": {"id": "vis_maxbendplasticflow"}, "extent": [4207, 4230], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4382, 4450], "text": ["Scales the maximum volume stress to be the maximum coloration."]}], "indent": 0, "text": ["Max Volume Stress"], "role": "item", "attrs": {"id": "vis_maxvolumestress"}, "extent": [4333, 4352], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4503, 4573], "text": ["Scales the maximum volume distance to be the maximum coloration."]}], "indent": 0, "text": ["Max Volume Distance"], "role": "item", "attrs": {"id": "vis_maxvolumedistance"}, "extent": [4450, 4471], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4620, 4686], "text": ["Scales the maximum volume ratio to be the maximum coloration."]}], "indent": 0, "text": ["Max Volume Ratio"], "role": "item", "attrs": {"id": "vis_maxvolumeratio"}, "extent": [4573, 4591], "type": "parameters_item"}], "container": true, "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Visualization"], "extent": [2153, 2175], "container": true, "type": "h", "id": null}], "indent": 0, "level": 2, "text": ["Visualize"], "extent": [13574, 13590], "container": true, "type": "h", "id": null}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [1383, 1395], "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 4, "blevel": 6, "type": "bullet", "extent": [13825, 13854], "text": [{"text": "", "fullpath": "/nodes/sop/vellumdrape", "scheme": "Node", "type": "link", "value": "/nodes/sop/vellumdrape"}]}, {"indent": 4, "blevel": 6, "type": "bullet", "extent": [13854, 13889], "text": [{"text": "", "fullpath": "/nodes/sop/vellumconstraints", "scheme": "Node", "type": "link", "value": "/nodes/sop/vellumconstraints"}]}, {"indent": 4, "blevel": 6, "type": "bullet", "extent": [13889, 13930], "text": [{"text": "", "fullpath": "/nodes/sop/vellumconstraints_grain", "scheme": "Node", "type": "link", "value": "/nodes/sop/vellumconstraints_grain"}]}, {"indent": 4, "blevel": 6, "type": "bullet", "extent": [13930, 13956], "text": [{"text": "", "fullpath": "/nodes/sop/vellumio", "scheme": "Node", "type": "link", "value": "/nodes/sop/vellumio"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "extent": [13816, 13825], "container": true, "type": "related_section", "id": "related"}], "title": ["Vellum Solver"], "summary": ["Runs a dynamic Vellum simulation."], "attrs": {"version": null, "namespace": null, "internal": "vellumsolver", "context": "sop", "type": "node", "icon": "DOP/vellumsolver"}, "included": ["/nodes/sop/_vellum_common"], "type": "root"}