{"body": [{"indent": 0, "text": ["Ocean Evaluate"], "type": "title", "extent": [0, 19], "level": 0}, {"indent": 0, "type": "summary", "extent": [104, 169], "text": ["Deforms input geometry based on ocean \"spectrum\" volumes."]}, {"indent": 0, "type": "para", "extent": [169, 324], "text": ["This node uses volumes generated by the ", {"text": ["Ocean Spectrum node"], "fullpath": "/nodes/sop/oceanspectrum", "scheme": "Node", "type": "link", "value": "/nodes/sop/oceanspectrum"}, " connected to the second input to deform geometry in the first input."]}, {"body": [{"body": [{"body": [{"indent": 8, "type": "para", "extent": [343, 401], "text": ["The time at which to evaluate the ocean surface."]}], "indent": 0, "text": ["Time"], "role": "item", "extent": [336, 343], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [413, 801], "text": ["Downsample the incoming ocean spectrum before evaluating any ocean values.  This parameter specifies the number of powers of two to remove from the resolution of the incoming ocean spectrum. For example, if the spectrum was originally specified at resolution 10 to generate a 1024 x 1024 volume, downsampling by 2 will evaluate ocean volumes at resolution 8, a 256 x 256 volume."]}, {"body": [{"body": [{"indent": 16, "type": "para", "extent": [814, 1076], "text": ["The same high resolution spectrum can be processed by multiple Ocean Evaluate nodes, for example one with no downsampling to deform surface geometry, and another at a downsampled resolution to generate the more expensive volume or point output."]}], "indent": 8, "role": "item", "type": "tip", "extent": [801, 814]}], "container": true, "role": "item_group", "type": "tip_group"}], "indent": 0, "text": ["Downsample"], "role": "item", "extent": [401, 413], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [1091, 1383], "text": ["Specifies how deformation and velocity values falloff as the input points lie below the ocean surface.  This value also controls the rank of the calculation volumes that are output if ", {"text": ["Rest Displacement"], "type": "ui"}, " or ", {"text": ["Rest Velocity"], "type": "ui"}, " is enabled: 2D if falloff is ", {"text": ["None"], "type": "ui"}, " but 3D otherwise."]}, {"body": [{"body": [{"indent": 16, "type": "para", "extent": [1397, 1454], "text": ["Values do not falloff below the surface."]}], "indent": 8, "type": "dt", "extent": [1383, 1397], "text": ["None"]}, {"body": [{"indent": 16, "type": "para", "extent": [1475, 1555], "text": ["All values have the same exponential falloff below the surface."]}], "indent": 8, "type": "dt", "extent": [1454, 1475], "text": ["Exponential"]}, {"body": [{"indent": 16, "type": "para", "extent": [1589, 1833], "text": ["Values have an exponential falloff that is scaled per wave frequency.  With this setting the contribution from small, high frequency waves falls off very quickly.  It is the most accurate setting and most expensive to compute."]}], "indent": 8, "type": "dt", "extent": [1555, 1589], "text": ["Exponential by Frequency"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Depth Falloff"], "role": "item", "extent": [1076, 1091], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [1848, 2064], "text": ["An additional scale applied to the exponential falloff modes in ", {"text": ["Depth Falloff"], "type": "ui"}, ".  For the most physically accurate values this should be set to 1 in conjunction with the ", {"text": ["Exponential by Frequency"], "type": "ui"}, " mode."]}], "indent": 0, "text": ["Falloff Scale"], "role": "item", "extent": [1833, 1848], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [2075, 2229], "text": ["The maximum depth for the evaluated ocean volumes.  All input positions deeper than this value will be clamped before sampling the ocean values."]}], "indent": 0, "text": ["Max Depth"], "role": "item", "extent": [2064, 2075], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [2246, 2446], "text": ["The number of divisions along the depth axis if the computed ocean are 3D, as specified by the ", {"text": ["Depth Falloff"], "type": "ui"}, " parameter.  Higher values are more accurate but more expensive to calculate."]}], "indent": 0, "text": ["Depth Divisions"], "role": "item", "extent": [2229, 2246], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"body": [{"body": [{"indent": 8, "type": "para", "extent": [2496, 2569], "text": ["Deform the input geometry by the calculated ocean deformations."]}], "indent": 0, "text": ["Deform Input Geometry"], "role": "item", "extent": [2472, 2496], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [2583, 2769], "text": ["Output a deformed grid exactly the size of the underlying ocean volume.  This preview grid is fastest to evaluate and provides a simple way to view the deforming ocean surface."]}], "indent": 0, "text": ["Preview Grid"], "role": "item", "extent": [2569, 2583], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [2785, 2849], "text": ["Add a velocity point attribute to the output geometry."]}], "indent": 0, "text": ["Point Velocity"], "role": "item", "extent": [2769, 2785], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [2863, 3020], "text": ["Add a ", {"text": ["uv"], "type": "code"}, " attribute to the output geometry that can be used for texture lookups into the texture maps created with the ", {"text": ["Export to Texture"], "type": "ui"}, " tab.."]}], "indent": 0, "text": ["UV Attribute"], "role": "item", "extent": [2849, 2863], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [3036, 3286], "text": ["Add a ", {"text": ["cusp"], "type": "code"}, " point attribute to the output geometry that represents the sharpness of the wave peaks at any point, with values ranging from below 0 if the wave is stretched out, to greater than 1 if the wave peak is so sharp it has inverted."]}], "indent": 0, "text": ["Cusp Attribute"], "role": "item", "extent": [3020, 3036], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [3312, 3431], "text": ["Add a ", {"text": ["cuspdir"], "type": "code"}, " vector point attribute to the output geometry that points in the direction of the wave peaks."]}], "indent": 0, "text": ["Cusp Direction Attribute"], "role": "item", "extent": [3286, 3312], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [3447, 3674], "text": ["Add a ", {"text": ["foam"], "type": "code"}, " point attribute to the output geometry that holds the results of a simple simulation of the ", {"text": ["cusp"], "type": "code"}, " attribute decaying over time.  The parameters for the simulation can be found on the ", {"text": ["Foam Solver"], "type": "ui"}, " tab."]}], "indent": 0, "text": ["Foam Attribute"], "role": "item", "extent": [3431, 3447], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [3695, 3755], "text": ["Visualize the ", {"text": ["cusp"], "type": "code"}, " or ", {"text": ["foam"], "type": "code"}, " attribute by color."]}], "indent": 0, "text": ["Visualize Attribute"], "role": "item", "extent": [3674, 3695], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [3771, 3851], "text": ["The color ramp with which to visualize the ", {"text": ["cusp"], "type": "code"}, " or ", {"text": ["foam"], "type": "code"}, " attribute."]}], "indent": 0, "text": ["Attribute Ramp"], "role": "item", "extent": [3755, 3771], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Geometry"], "extent": [2446, 2472], "container": true, "type": "h", "id": "geometry"}, {"body": [{"body": [{"body": [{"indent": 8, "type": "para", "extent": [3889, 3968], "text": ["Generate a ", {"text": ["surface"], "type": "code"}, " SDF volume of the specified size and resolution."]}], "indent": 0, "text": ["Surface SDF"], "role": "item", "extent": [3875, 3889], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [3983, 4194], "text": ["The ", {"text": ["Surface SDF"], "type": "ui"}, " will represent the ocean at the specified depth.  \n        This differs from simply offsetting the output surface SDF as it\n        takes into account the ", {"text": ["Depth Falloff"], "type": "ui"}, " setting."]}], "indent": 0, "text": ["Surface Depth"], "role": "item", "extent": [3968, 3983], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [4204, 4284], "text": ["Generate a ", {"text": ["vel"], "type": "code"}, " velocity volume of the specified size and resolution."]}], "indent": 0, "text": ["Velocity"], "role": "item", "extent": [4194, 4204], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [4295, 4425], "text": ["Controls the radius of the points used to generate volumes.  Higher values are more expensive but give smoother volumes."]}], "indent": 0, "text": ["Smoothing"], "role": "item", "extent": [4284, 4295], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [4431, 4475], "text": ["The size of the generated volumes."]}], "indent": 0, "text": ["Size"], "role": "item", "extent": [4425, 4431], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [4483, 4529], "text": ["The origin of the generated volumes."]}], "indent": 0, "text": ["Center"], "role": "item", "extent": [4475, 4483], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4547, 4852], "text": ["It is often advantageous to make sure voxels in a volume are\n    cubes.  This option allows the resolution of the volume to be\n    specified without having to worry about matching the size and\n    resolution fields.  This parameter controls which axis is\n    divided into Uniform Sampling Divisions."]}], "indent": 0, "text": ["Uniform Sampling"], "role": "item", "extent": [4529, 4547], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4875, 5041], "text": ["The number of voxels to divide the ", {"text": ["Uniform Sampling"], "type": "ui"}, " axis into.\n    The other axes will be divided into the number of cells that\n    fit for this voxel size."]}], "indent": 0, "text": ["Uniform Sampling Divs"], "role": "item", "extent": [4852, 4875], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5056, 5151], "text": ["When using non-uniform voxel cells, each dimensions resolution\n    can be specified here."]}], "indent": 0, "text": ["Sampling Divs"], "role": "item", "extent": [5041, 5056], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5161, 5299], "text": ["The uniform size of the voxels, when specifying the voxel size directly.  The given sized box will be filled by voxels of this size."]}], "indent": 0, "text": ["Div Size"], "role": "item", "extent": [5151, 5161], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [5317, 5432], "text": ["When generating velocity volumes, how many voxels from the ocean surface to extrapolate velocity values. "]}], "indent": 0, "text": ["Max Extrap Cells"], "role": "item", "extent": [5299, 5317], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"body": [{"body": [{"indent": 8, "type": "para", "extent": [5473, 5594], "text": ["Output the internally computed displacement volume.  Samples taken from this volume should be in rest position."]}], "indent": 0, "text": ["Rest Displacement"], "role": "item", "extent": [5453, 5473], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [5609, 5726], "text": ["Output the internally computed velocity volume.  Samples taken from this volume should be in rest position."]}], "indent": 0, "text": ["Rest Velocity"], "role": "item", "extent": [5594, 5609], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [5737, 5850], "text": ["Output the internally computed cusp volume.  Samples taken from this volume should be in rest position."]}], "indent": 0, "text": ["Rest Cusp"], "role": "item", "extent": [5726, 5737], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [5871, 5994], "text": ["Output the internally computed cusp direction volume.  Samples taken from this volume should be in rest position."]}], "indent": 0, "text": ["Rest Cusp Direction"], "role": "item", "extent": [5850, 5871], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Rest Volumes"], "extent": [5432, 5453], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 8, "type": "para", "extent": [6026, 6260], "text": ["Output the internally computed foam volume.  Samples taken from this volume should be in rest position.  The Ocean Shader uses this volume as a ", {"text": ["Foam Mask"], "type": "ui"}, " after being saved to a texture on the ", {"text": ["Export to a Texture"], "type": "ui"}, " tab."]}], "indent": 0, "text": ["Rest Foam"], "role": "item", "extent": [6014, 6026], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [6278, 6431], "text": ["Reset the state of the foam simulation, which may be necessary after changing the resolution of the ocean grid or the ", {"text": ["Downsample"], "type": "ui"}, " parameter."]}], "indent": 0, "text": ["Reset Simulation"], "role": "item", "extent": [6260, 6278], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [6444, 6588], "text": ["The starting frame for the foam simulation.  Setting this to a frame earlier than the first frame allows a pre-roll of the simulation."]}], "indent": 0, "text": ["Start Frame"], "role": "item", "extent": [6431, 6444], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [6600, 6684], "text": ["Scale the incoming cusp attribute by this factor before accumulating foam."]}], "indent": 0, "text": ["Cusp Scale"], "role": "item", "extent": [6588, 6600], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [6691, 6740], "text": ["The amount of foam to decay each frame."]}], "indent": 0, "text": ["Decay"], "role": "item", "extent": [6684, 6691], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [6754, 6820], "text": ["The minimum velocity for waves that can accumulate foam."]}], "indent": 0, "text": ["Min Velocity"], "role": "item", "extent": [6740, 6754], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [6834, 6900], "text": ["The maximum velocity for waves that can accumulate foam."]}], "indent": 0, "text": ["Max Velocity"], "role": "item", "extent": [6820, 6834], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [6910, 6971], "text": ["The minimum cusp value that can accumulate to foam."]}], "indent": 0, "text": ["Min Cusp"], "role": "item", "extent": [6900, 6910], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [6981, 7042], "text": ["The maximum cusp value that can accumulate to foam."]}], "indent": 0, "text": ["Max Cusp"], "role": "item", "extent": [6971, 6981], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Foam Solver"], "extent": [5994, 6014], "container": true, "type": "h", "id": null}], "indent": 0, "level": 2, "text": ["Volumes"], "extent": [3851, 3875], "container": true, "type": "h", "id": "volumes"}, {"body": [{"body": [{"body": [{"indent": 8, "type": "para", "extent": [7085, 7199], "text": ["Generate points with velocity in the volumetric intersection of the ocean surface and the specified box."]}], "indent": 0, "text": ["Points from Volume"], "role": "item", "extent": [7064, 7085], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [7217, 7327], "text": ["The smallest distance between any two of the generated points \n        in the initial configuration."]}], "indent": 0, "text": ["Point Separation"], "role": "item", "extent": [7199, 7217], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [7340, 7382], "text": ["Random seed for creating jitter."]}], "indent": 0, "text": ["Jitter Seed"], "role": "item", "extent": [7327, 7340], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [7396, 7477], "text": ["The amount of jitter to apply to the positional values of the points.  "]}], "indent": 0, "text": ["Jitter Scale"], "role": "item", "extent": [7382, 7396], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [7493, 7561], "text": ["The minimum depth of points relative to the ocean surface."]}], "indent": 0, "text": ["Min Rest Depth"], "role": "item", "extent": [7477, 7493], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [7577, 7645], "text": ["The maximum depth of points relative to the ocean surface."]}], "indent": 0, "text": ["Max Rest Depth"], "role": "item", "extent": [7561, 7577], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [7655, 7713], "text": ["The size of the box in which to generate points."]}], "indent": 0, "text": ["Box Size"], "role": "item", "extent": [7645, 7655], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [7725, 7785], "text": ["The origin of the box in which to generate points."]}], "indent": 0, "text": ["Box Center"], "role": "item", "extent": [7713, 7725], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [7796, 8062], "text": ["The rest configuration of points is generated by evaluating the maximum possible ocean displacement at time zero.  This will usually be sufficient padding, but with extreme displacement it might be necessary to increase the padding scale in this parameter."]}], "indent": 0, "text": ["Pad Scale"], "role": "item", "extent": [7785, 7796], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [8083, 8140], "text": ["Create a group containing the generated points."]}], "indent": 0, "text": ["Create Output Group"], "role": "item", "extent": [8062, 8083], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [8154, 8209], "text": ["The name of the generated output point group."]}], "indent": 0, "text": ["Output Group"], "role": "item", "extent": [8140, 8154], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Points"], "extent": [7042, 7064], "container": true, "type": "h", "id": "points"}, {"body": [{"indent": 0, "type": "para", "extent": [8242, 8445], "text": ["This tab controls exporting the displacement and cusp volumes to textures that can be sampled during rendering.  Most of the parameters here are exposed from the ", {"text": ["Composite"], "fullpath": "/nodes/out/comp", "scheme": "Node", "type": "link", "value": "/nodes/out/comp"}, " output node."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [8455, 8551], "text": ["Controls where the displacement, cusp, and / or foam values are stored in the texture."]}], "indent": 0, "text": ["Channels"], "role": "item", "extent": [8445, 8455], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [8565, 8738], "text": ["Controls the bit depth of the generated textures.  If the texture format supports 16-bit float, this bit depth can save space with little degradation in rendering."]}], "indent": 0, "text": ["Raster Depth"], "role": "item", "extent": [8551, 8565], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Export to Texture"], "extent": [8209, 8242], "container": true, "type": "h", "id": "export"}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [324, 336], "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "extent": [8747, 8790], "text": [{"text": ["Ocean Spectrum"], "fullpath": "/nodes/sop/oceanspectrum", "scheme": "Node", "type": "link", "value": "/nodes/sop/oceanspectrum"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [8790, 8826], "text": [{"text": ["Wave Vector"], "fullpath": "/nodes/vop/wavevector", "scheme": "Node", "type": "link", "value": "/nodes/vop/wavevector"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [8826, 8860], "text": [{"text": ["Volume FFT"], "fullpath": "/nodes/sop/volumefft", "scheme": "Node", "type": "link", "value": "/nodes/sop/volumefft"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [8860, 8887], "text": [{"text": ["Volume"], "fullpath": "/nodes/sop/volume", "scheme": "Node", "type": "link", "value": "/nodes/sop/volume"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [8887, 8936], "text": [{"text": ["Points from Volume"], "fullpath": "/nodes/sop/pointsfromvolume", "scheme": "Node", "type": "link", "value": "/nodes/sop/pointsfromvolume"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [8936, 8964], "text": [{"text": ["Composite"], "fullpath": "/nodes/out/comp", "scheme": "Node", "type": "link", "value": "/nodes/out/comp"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "extent": [8738, 8747], "container": true, "type": "related_section", "id": "related"}], "summary": ["Deforms input geometry based on ocean \"spectrum\" volumes."], "type": "root", "attrs": {"namespace": null, "version": "1.0", "context": "sop", "type": "node", "internal": "oceanevaluate", "icon": "SHELF/wave"}, "title": ["Ocean Evaluate"]}