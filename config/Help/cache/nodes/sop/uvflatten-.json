{"body": [{"indent": 0, "text": ["UV Flatten"], "type": "title", "extent": [90, 105], "level": 0}, {"indent": 0, "type": "summary", "extent": [105, 173], "text": ["Creates flattened pieces in texture space from 3D geometry."]}, {"body": [{"body": [{"body": [], "indent": 0, "text": ["UV flatten"], "role": "item", "attrs": {"id": "116671338"}, "extent": [188, 207], "type": "vimeo"}], "container": true, "role": "item_group", "type": "vimeo_group"}, {"indent": 0, "type": "para", "extent": [227, 401], "text": ["UV Flatten tries to preserve shapes/polygon angles when mapping the 3D mesh to flat UV coordinates. It has an interactive mode that lets you specify seams and pin vertices."]}, {"indent": 0, "type": "para", "extent": [401, 491], "text": ["This node will add the UV texture attribute to the geometry if it doesn\u2019t already exist."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [698, 893], "text": ["If the polygonal surface has an ", {"text": ["edge group"], "fullpath": "/model/groups", "scheme": null, "type": "link", "value": "/model/groups"}, " named ", {"text": ["seams"], "type": "code"}, ", this node will use it to cut the geometry. You can select additional seams interactively when the node is selected."]}], "indent": 0, "text": ["You can manually specify \"seams\" along which the node will cut the geometry into pieces for flattening. This lets you split the surface into manageable sections to make it easier for the node to flatten."], "extent": [491, 698], "blevel": 2, "type": "bullet"}, {"body": [{"indent": 4, "type": "para", "extent": [950, 1228], "text": ["Each piece must have at least two pins. If you don\u2019t specify pins manually, the node will simply pick two vertices to pin automatically. You only need to manually pin where the automatic solution isn\u2019t ideal, for example, if you want to move, rotate, or scale a piece."]}, {"indent": 4, "type": "para", "extent": [1228, 1390], "text": ["You can interactively add pins, and select multiple pins and move them while the node maintains the positions of unselected pins, when the node is selected."]}], "indent": 0, "text": ["You can pin certain vertices to fixed UV coordinates."], "extent": [893, 950], "blevel": 2, "type": "bullet"}], "container": true, "type": "bullet_group"}, {"indent": 0, "type": "para", "extent": [1390, 1538], "text": ["UV Flatten scales the pieces to fit within the unit square (u of 0 to 1, v of 0 to 1), while maintaining their proportions relative to each other."]}, {"indent": 0, "type": "para", "extent": [1538, 1673], "text": ["This node uses the ", {"text": ["Least Squares Conformal Mapping"], "scheme": "Wp", "type": "link", "exists": true, "value": "http://en.wikipedia.org/wiki/Least_squares_conformal_map"}, " (LSCM) method to flatten the texture coordinates."]}, {"body": [{"body": [{"indent": 8, "blevel": 10, "type": "ord", "extent": [155, 244], "text": ["Select the primitives (faces) you want to add UV coordinates to."]}, {"indent": 4, "blevel": 6, "type": "ord", "extent": [244, 342], "text": ["Click the ", {"text": "", "fullpath": "/shelf/SOP/uvflatten", "scheme": "Icon", "type": "link", "value": "SOP/uvflatten"}, {"text": ["UV Flatten"], "fullpath": "/nodes/sop/uvflatten", "scheme": "Node", "type": "link", "value": "/nodes/sop/uvflatten"}, " tool on the ", {"text": ["Texture"], "type": "ui"}, " tab."]}, {"indent": 4, "blevel": 6, "type": "ord", "extent": [342, 430], "text": ["Select the edges to use as seams, and press ", {"keys": ["Enter"], "text": null, "type": "keys"}, " to confirm your selection."]}], "container": true, "type": "ord_group"}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [439, 547], "text": ["In the viewer, press ", {"keys": ["Space", "5"], "text": null, "type": "keys"}, " to switch to \"UV Viewport\" to see the flattened texture pieces."]}], "indent": 4, "role": "item", "type": "tip", "extent": [430, 439]}], "container": true, "role": "item_group", "type": "tip_group"}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [557, 672], "text": ["To draw the default pins when the tool is active, set the node to\n        export an ", {"text": ["Active Pin Group"], "type": "ui"}, "."]}], "indent": 4, "role": "item", "type": "note", "extent": [547, 557]}], "container": true, "role": "item_group", "type": "note_group"}, {"body": [{"body": [{"body": [{"indent": 16, "type": "para", "extent": [846, 1118], "text": ["While you move one or more pins, the node maintains the positions of unselected pins and (as much as possible) the shape of the piece. So, if you have two pins, you can rotate and scale a piece by selecting one and moving it around the other."]}], "indent": 8, "type": "para", "extent": [694, 846], "text": ["Click the ", {"text": "", "fullpath": "/shelf/BUTTONS/uv_pin_move", "scheme": "Icon", "type": "link", "value": "BUTTONS/uv_pin_move"}, " \"Manipulate pins\" button in the toolbar. Select a pin or multiple pins to move, and drag."]}], "indent": 4, "text": ["Move a pin"], "role": "item", "extent": [672, 694], "type": "task"}, {"body": [{"indent": 8, "type": "para", "extent": [1139, 1297], "text": ["Click the ", {"text": "", "fullpath": "/shelf/BUTTONS/uv_pin_add", "scheme": "Icon", "type": "link", "value": "BUTTONS/uv_pin_add"}, " \"Pin vertices\" button in the toolbar. Select the vertex or vertices you want to pin and press ", {"keys": ["Enter"], "text": null, "type": "keys"}, "."]}, {"body": [{"body": [{"indent": 16, "type": "para", "extent": [1325, 1457], "text": ["Click the ", {"text": "", "fullpath": "/shelf/BUTTONS/uv_pin_move", "scheme": "Icon", "type": "link", "value": "BUTTONS/uv_pin_move"}, " \"Manipulate pins\" button in the toolbar. select the pin and press ", {"keys": ["Delete"], "text": null, "type": "keys"}, "."]}], "indent": 8, "text": ["Delete a pin"], "role": "item", "extent": [1297, 1325], "type": "task"}], "container": true, "role": "item_group", "type": "task_group"}], "indent": 4, "text": ["Add a pin"], "role": "item", "extent": [1118, 1139], "type": "task"}, {"body": [{"indent": 8, "type": "para", "extent": [1480, 1633], "text": ["Click the ", {"text": "", "fullpath": "/shelf/BUTTONS/uv_edge_cut", "scheme": "Icon", "type": "link", "value": "BUTTONS/uv_edge_cut"}, " \"Cut edges\" button in the toolbar, select the edges, and press ", {"keys": ["Enter"], "text": null, "type": "keys"}, " to confirm the selection."]}, {"body": [{"body": [{"indent": 16, "type": "para", "extent": [1670, 1906], "text": ["Right-click the ", {"text": "", "fullpath": "/shelf/VIEW/visualization", "scheme": "Icon", "type": "link", "value": "VIEW/visualization"}, " Visualization icon on the right side of the viewport and select ", {"text": ["UV Distortions"], "type": "ui"}, ". This will shade your geometry red when it is stretched and blue when it is squeezed."]}], "indent": 8, "text": ["Visualize distortions"], "role": "item", "extent": [1633, 1670], "type": "task"}], "container": true, "role": "item_group", "type": "task_group"}], "indent": 4, "text": ["Cut an edge"], "role": "item", "extent": [1457, 1480], "type": "task"}], "container": true, "role": "item_group", "type": "task_group"}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [1915, 2052], "text": ["Once your texture pieces are unwrapped, you can use the ", {"text": ["UV Layout node"], "fullpath": "/nodes/sop/uvlayout", "scheme": "Node", "type": "link", "value": "/nodes/sop/uvlayout"}, " to change the packing of the pieces."]}], "indent": 4, "role": "item", "type": "tip", "extent": [1906, 1915]}], "container": true, "role": "item_group", "type": "tip_group"}], "indent": 0, "level": 3, "text": ["Using UV Flatten"], "extent": [120, 155], "container": true, "type": "h", "id": "includeme"}], "indent": 0, "level": 2, "text": ["Overview"], "extent": [173, 188], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [1751, 1872], "text": ["The primitives to add UV texture coordinates to.\n    If this is empty, the node applies to all incoming primitives."]}], "indent": 0, "text": ["Group"], "role": "item", "attrs": {"id": "group"}, "extent": [1723, 1731], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1908, 2171], "text": ["An edge group containing the initial seams to use\n    to split the geometry into texture pieces.\n    The node automatically considers boundary edges,\n    edges between inconsistently oriented polygons,\n    and edges between more than two polygons as seams. "]}], "indent": 0, "text": ["Seam Group"], "role": "item", "attrs": {"id": "seamgroup"}, "extent": [1872, 1884], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2218, 2257], "text": ["An edge group containing the "]}, {"indent": 4, "type": "para", "extent": [2257, 2682], "text": ["When you add seams interactively, the node puts them in this parameter.\n    The initial seams you selected when you first used the tool\n    are in the ", {"text": ["Seam group"], "type": "ui"}, " parameter.\n    The node keeps these separate to preserve the positions of the pieces as you cut.\n    If you edit ", {"text": ["Seam group"], "type": "ui"}, "\n    (for example, by cutting and pasting the contents of ", {"text": ["Additional seams"], "type": "ui"}, " into it),\n    the node will re-pack the pieces."]}], "indent": 0, "text": ["Additional Seams"], "role": "item", "attrs": {"id": "extraseamgroup"}, "extent": [2171, 2189], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2739, 2873], "text": ["If the geometry already has texture coordinates,\n    ignore the 3D geometry and flatten any existing UV coordinates instead."]}, {"indent": 4, "type": "para", "extent": [2873, 3007], "text": ["This may be useful to let you use this node\u2019s interactive mode\n    to edit existing UV coordinates while minimizing distortions."]}], "indent": 0, "text": ["Use Existing UV Coordinates"], "role": "item", "attrs": {"id": "useexistinguv"}, "extent": [2682, 2711], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3070, 3288], "text": ["Creates an ", {"text": ["island"], "type": "code"}, " primitive attribute containing a number\n    specifying which pieces the primitive belongs to.\n    For example, all primitives on the first piece would have a value\n    of ", {"text": ["0"], "type": "code"}, " in the attribute."]}], "indent": 0, "text": ["Create Island Number Attribute"], "role": "item", "attrs": {"id": "islandprimtoggle"}, "extent": [3007, 3039], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3333, 3521], "text": ["Creates two vertex groups containing the initial pins\n    (the pins chosen automatically by the node)\n    and active pins (initial pins and pins added interactively by the user)."]}], "indent": 0, "text": ["Create Pin Groups"], "role": "item", "attrs": {"id": "createpingroups"}, "extent": [3288, 3307], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3541, 3757], "text": ["Performs a computation of the oriented bounding boxes for each UV island and uses the information to axis align each island. This should produce much better packing results, especially for rectangular geometry."]}], "indent": 0, "text": ["Axis Align Islands"], "role": "item", "extent": [3521, 3541], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3802, 3928], "text": ["When ", {"text": ["Create Pin Groups"], "type": "ui"}, " is on, the name of the vertex group\n    containing the pins chosen automatically by the node."]}], "indent": 0, "text": ["Initial Pin Group"], "role": "item", "attrs": {"id": "initialpingroup"}, "extent": [3757, 3776], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3975, 4119], "text": ["When ", {"text": ["Create Pin Groups"], "type": "ui"}, " is on, the name of the vertex group\n    containing the initial pins and pins created interactively by the user."]}], "indent": 0, "text": ["Active Pin Group"], "role": "item", "attrs": {"id": "activepingroup"}, "extent": [3928, 3946], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4140, 4188], "text": ["The list of interactively pinned vertices."]}], "indent": 0, "text": ["Pins"], "role": "item", "attrs": {"id": "pins"}, "extent": [4119, 4125], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [1711, 1723], "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "extent": [4197, 4221], "text": [{"text": "", "fullpath": "/nodes/sop/uvproject", "scheme": "Node", "type": "link", "value": "/nodes/sop/uvproject"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [4221, 4247], "text": [{"text": "", "fullpath": "/nodes/sop/uvquickshade", "scheme": "Node", "type": "link", "value": "/nodes/sop/uvquickshade"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [4247, 4268], "text": [{"text": "", "fullpath": "/nodes/sop/texture", "scheme": "Node", "type": "link", "value": "/nodes/sop/texture"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [4268, 4288], "text": [{"text": "", "fullpath": "/nodes/sop/uvpelt", "scheme": "Node", "type": "link", "value": "/nodes/sop/uvpelt"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [4288, 4310], "text": [{"text": "", "fullpath": "/nodes/sop/uvunwrap", "scheme": "Node", "type": "link", "value": "/nodes/sop/uvunwrap"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [4310, 4333], "text": [{"text": "", "fullpath": "/nodes/sop/uvlayout", "scheme": "Node", "type": "link", "value": "/nodes/sop/uvlayout"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "extent": [4188, 4197], "container": true, "type": "related_section", "id": "related"}], "title": ["UV Flatten"], "summary": ["Creates flattened pieces in texture space from 3D geometry."], "attrs": {"version": "", "tags": "uvs, textures", "namespace": null, "internal": "uvflatten", "context": "sop", "type": "node", "icon": "SOP/uvflatten"}, "included": ["/shelf/uvflatten"], "type": "root"}