{"body": [{"indent": 0, "text": ["Attribute VOP"], "type": "title", "extent": [0, 18], "level": 0}, {"indent": 0, "type": "summary", "extent": [107, 164], "text": ["Runs a VOP network to modify geometry attributes."]}, {"indent": 0, "type": "para", "extent": [164, 346], "text": ["Double-click this node to build a VOP network inside.\n(Alternatively, you can specify a SHOP node containing the VOP network,\nor specify a ", {"text": [".vfl"], "type": "code"}, " file containing the CVEX program.)"]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [352, 571], "text": ["The VOP network runs in the CVEX context, not the SOP context.\n    This means SOP specific VOPs and VEX operations are not available.\n    Instead use the From File variants and the provided operator input strings."]}], "indent": 0, "role": "item", "type": "note", "extent": [346, 352]}], "container": true, "role": "item_group", "type": "note_group"}, {"indent": 0, "type": "para", "extent": [571, 612], "text": ["This node modifies geometry attributes."]}, {"indent": 0, "type": "para", "extent": [612, 793], "text": ["Create ", {"text": ["Parameter VOPs"], "fullpath": "/nodes/vop/parameter", "scheme": "Node", "type": "link", "value": "/nodes/vop/parameter"}, " with the names of attributes to specify inputs.\nSet a parameter as \"exported\" to allow writing to/creating the corresponding attribute."]}, {"body": [{"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [835, 887], "text": ["Where to get the program to modify attributes."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [899, 944], "text": ["Use a VOP network inside this node."]}], "indent": 4, "type": "dt", "extent": [887, 899], "text": ["Myself"]}, {"body": [{"indent": 8, "type": "para", "extent": [954, 1065], "text": ["Use SHOP node containing a CVEX VOP network.\n        Specify the node in the ", {"text": ["SHOP path"], "type": "ui"}, " parameter."]}, {"indent": 8, "type": "para", "extent": [1065, 1140], "text": ["This can also point to any node that contains a CVEX VOP Network."]}, {"body": [{"body": [{"indent": 12, "type": "para", "extent": [1154, 1209], "text": ["Referenced nodes parameters will be used."]}], "indent": 8, "role": "item", "type": "note", "extent": [1140, 1154]}], "container": true, "role": "item_group", "type": "note_group"}], "indent": 4, "type": "dt", "extent": [944, 954], "text": ["SHOP"]}, {"body": [{"indent": 8, "type": "para", "extent": [1221, 1327], "text": ["Use a file containing a CVEX program.\n        Specify the file path in the ", {"text": ["Script"], "type": "ui"}, " parameter."]}], "indent": 4, "type": "dt", "extent": [1209, 1221], "text": ["Script"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["VEX Source"], "role": "item", "extent": [822, 835], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1338, 1423], "text": ["A SHOP node containing a CVEX VOP network,\n    when ", {"text": ["VEX source"], "type": "ui"}, " is ", {"text": ["SHOP"], "type": "ui"}, "."]}], "indent": 0, "text": ["SHOP Path"], "role": "item", "extent": [1327, 1338], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1431, 1518], "text": ["A path to a file containing a CVEX script,\n    when ", {"text": ["VEX source"], "type": "ui"}, " is ", {"text": ["Script"], "type": "ui"}, "."]}], "indent": 0, "text": ["Script"], "role": "item", "extent": [1423, 1431], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1541, 1658], "text": ["When ", {"text": ["VEX source"], "type": "ui"}, " is ", {"text": ["Script"], "type": "ui"}, ", reloads any ", {"text": [".vex"], "type": "code"}, " files to\n    account for changes made outside of Houdini."]}], "indent": 0, "text": ["Re-load VEX Functions"], "role": "item", "extent": [1518, 1541], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1668, 1787], "text": ["When ", {"text": ["VEX source"], "type": "ui"}, " is ", {"text": ["Myself"], "type": "ui"}, ", the command line Houdini uses\n    to compile the VOP network inside this node."]}], "indent": 0, "text": ["Compiler"], "role": "item", "extent": [1658, 1668], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1802, 1891], "text": ["When ", {"text": ["VEX source"], "type": "ui"}, " is ", {"text": ["Myself"], "type": "ui"}, ", recompiles the VOP network\n    inside this node."]}], "indent": 0, "text": ["Force Compile"], "role": "item", "extent": [1787, 1802], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1913, 2173], "text": ["VEX functions like ", {"text": ["ch()"], "type": "code"}, " usually evaluate with respect to this node.\n    Enter a node path here to override where the path search starts from.\n    This is useful for embedding in a digital asset, where you want searches\n    to start from the asset root."]}], "indent": 0, "text": ["Evaluation Node Path"], "role": "item", "extent": [1891, 1913], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2192, 2547], "text": ["When a VEX parameter is exported, the bound attribute will be\n    created if it doesn\u2019t exist.  This pattern can be used to override\n    the export option on the VEX shader to avoid writing to or creating\n    certain attributes.  The pattern matches the VEX parameter, not\n    the bound attribute.  The attribute will still be bound for\n    reading."]}], "indent": 0, "text": ["Export Parameters"], "role": "item", "extent": [2173, 2192], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2570, 2795], "text": ["There should be no threading issues with VEX.  In the unlikely\n    event that there are, this will allow you to determine which\n    node is guilty, and work around it without turning off threading\n    on a global scale."]}], "indent": 0, "text": ["Enable Multithreading"], "role": "item", "extent": [2547, 2570], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Vex Setup"], "extent": [805, 822], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [2855, 2977], "text": ["VEX can evaluate at 32-bit or 64-bit precision.  64-bit provides\n    higher accuracy, especially for transforms."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [2987, 3196], "text": ["Incoming attributes will preserve their original precision, so using 64-bit VEX on 32-bit positions will convert them to 64-bit, apply the operation, then convert back to 32-bit when writing out."]}], "indent": 4, "role": "item", "type": "note", "extent": [2977, 2987]}], "container": true, "role": "item_group", "type": "note_group"}, {"indent": 4, "type": "para", "extent": [3196, 3504], "text": ["The auto mode will switch between 32-bit and 64-bit depending on the preferred precision of the incoming geometry. When run in 64-bit precision, any created attributes will be 64-bit. When run in 32-bit any created attributes will be 32-bit. Use ", {"text": "", "fullpath": "/nodes/sop/attribcast", "scheme": "Node", "type": "link", "value": "/nodes/sop/attribcast"}, " to change the preferred precision."]}], "indent": 0, "text": ["VEX Precision"], "role": "item", "attrs": {"id": "vex_precision"}, "extent": [2815, 2831], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3511, 3633], "text": ["Only run the VOP network on this group in the input geometry.\n    Leave this blank to modify all the input geometry."]}], "indent": 0, "text": ["Group"], "role": "item", "extent": [3504, 3511], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3645, 3677], "text": ["What the group is made of."]}], "indent": 0, "text": ["Group Type"], "role": "item", "extent": [3633, 3645], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3687, 3831], "text": ["What class of geometry attributes to modify.\n    No attributes will be bound, except read-only detail attributes, when set to ", {"text": ["Numbers"], "type": "ui"}, "."]}], "indent": 0, "text": ["Run Over"], "role": "item", "extent": [3677, 3687], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3868, 4149], "text": ["Iteration count when ", {"text": ["Run Over"], "type": "ui"}, " is set to ", {"text": ["Numbers"], "type": "ui"}, ".\n    ", {"text": ["@elemnum"], "type": "code"}, " will be the iteration number from 0 (inclusive), to this number (exclusive),\n    and ", {"text": ["@numelem"], "type": "code"}, " will be this number.\n    No attributes will be bound when in this mode, except read-only detail attributes."]}], "indent": 0, "text": ["Number Count"], "role": "item", "attrs": {"id": "vex_numcount"}, "extent": [3831, 3845], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4194, 4693], "text": ["Maximum number of iterations run at a time in any thread when ", {"text": ["Run Over"], "type": "ui"}, " is set to ", {"text": ["Numbers"], "type": "ui"}, ". If this is greater than or equal to ", {"text": ["Number Count"], "type": "ui"}, ", the VEX code will run single-threaded. If each iteration will take a very large amount of time, set this to 1. However, there is quite often a significant advantage to making this value larger, especially if each iteration will take a small amount of time, and if any work can avoid being duplicated by running multiple iterations at a time."]}], "indent": 0, "text": ["Thread Job Size"], "role": "item", "attrs": {"id": "vex_threadjobsize"}, "extent": [4149, 4166], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4711, 5008], "text": ["Automatically bind attributes to parameters by name.\n    If for some reason you need CVEX parameters to have different names\n    than the corresponding attributes, turn this off and use the ", {"text": ["Number of bindings"], "type": "ui"}, " parameter to set up mappings between ", {"text": ["Attribute name"], "type": "ui"}, " and ", {"text": ["VEX parameter"], "type": "ui"}, "."]}, {"indent": 4, "type": "para", "extent": [5008, 5211], "text": ["Integer attributes will bind to integer parameters.\n    Float attributes will bind to float, vector, point, matrix, or matrix4 depending on their tuple size. String attributes will bind to strings."]}], "indent": 0, "text": ["Autobind by Name"], "role": "item", "extent": [4693, 4711], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5236, 5320], "text": ["Automatically bind any groups to the integer parameter prefixed with ", {"text": ["group_"], "type": "code"}, "."]}], "indent": 0, "text": ["Autobind Groups by Name"], "role": "item", "extent": [5211, 5236], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5349, 5605], "text": ["If points are being run over, and the ", {"text": ["P"], "type": "code"}, " attribute is written to,\n    but the ", {"text": ["N"], "type": "code"}, " attribute is not written to, any incoming normals will\n    become out of date.  When this option is set, vertex and point\n    normals will be updated when this occurs."]}], "indent": 0, "text": ["Update Normals If Displaced"], "role": "item", "extent": [5320, 5349], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5655, 6229], "text": ["The ", {"text": ["@opinput", {"text": ["inputnum"], "type": "var"}, "_", {"text": ["name"], "type": "var"}], "type": "code"}, " syntax lets you get the value of an attribute from the corresponding element on another input. If this parameter is blank, the \"corresponding\" element is the element with the same index (e.g. point number) as the element the node is currently processing. If you specify the name of an attribute, the \"corresponding\" element is the element that has the same value in the named attribute as the current element. See ", {"fragment": "#other_inputs", "text": ["accessing attributes from other inputs"], "value": "/vex/snippets#other_inputs", "fullpath": "/vex/snippets#other_inputs", "scheme": null, "type": "link"}, " on the VEX snippets page for more information."]}, {"indent": 4, "type": "para", "extent": [6229, 6475], "text": ["For example, if you used ", {"text": ["id"], "type": "code"}, " as the \"attribute to match\", and you were processing a point with attribute ", {"text": ["id"], "type": "code"}, " set to ", {"text": ["12"], "type": "code"}, ", then ", {"text": ["@opinput1_P"], "type": "code"}, " would give you the ", {"text": ["P"], "type": "code"}, " attribute on the point in the second input that also has ", {"text": ["id"], "type": "code"}, " set to ", {"text": ["12"], "type": "code"}, "."]}], "indent": 0, "text": ["Attribute to Match"], "role": "item", "attrs": {"id": "vex_matchattrib"}, "extent": [5605, 5625], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [6501, 6796], "text": ["When compiled the Attribute VOP is able to work on the incoming\n    geometry in place without making a copy of it.  This can speed\n    up processing as one less copy is made, but requires that the\n    VEX code doesn\u2019t bind for writing any attributes that are\n    read from the first input."]}], "indent": 0, "text": ["Compute Results In Place"], "role": "item", "extent": [6475, 6501], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [6820, 7014], "text": ["The name of a group to use as the output selection.  When the highlight flag is enabled for this node, this group will be the output selection used by later modeling tools (if it exists)."]}], "indent": 0, "text": ["Output Selection Group"], "role": "item", "extent": [6796, 6820], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Data Bindings"], "extent": [2795, 2815], "container": true, "type": "h", "id": null}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [793, 805], "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "extent": [7023, 7050], "text": [{"text": "", "fullpath": "/nodes/sop/attribcreate", "scheme": "Node", "type": "link", "value": "/nodes/sop/attribcreate"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [7050, 7080], "text": [{"text": "", "fullpath": "/nodes/sop/attribexpression", "scheme": "Node", "type": "link", "value": "/nodes/sop/attribexpression"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [7080, 7107], "text": [{"text": "", "fullpath": "/nodes/sop/attribwrangle", "scheme": "Node", "type": "link", "value": "/nodes/sop/attribwrangle"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [7107, 7126], "text": [{"text": "", "fullpath": "/nodes/sop/point", "scheme": "Node", "type": "link", "value": "/nodes/sop/point"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [7126, 7152], "text": [{"text": "", "fullpath": "/nodes/sop/pointwrangle", "scheme": "Node", "type": "link", "value": "/nodes/sop/pointwrangle"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "extent": [7014, 7023], "container": true, "type": "related_section", "id": "related"}], "summary": ["Runs a VOP network to modify geometry attributes."], "type": "root", "attrs": {"version": null, "tags": "attrs, vops", "namespace": null, "internal": "attribvop", "context": "sop", "type": "node", "icon": "SOP/attribvop"}, "title": ["Attribute VOP"]}