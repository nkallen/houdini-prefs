{"body": [{"indent": 0, "text": ["HeightField Mask by Object"], "type": "title", "extent": [0, 31], "level": 0}, {"indent": 0, "type": "summary", "extent": [140, 189], "text": ["Creates a mask based some other geometry."]}, {"indent": 0, "type": "para", "extent": [189, 330], "text": ["You can create the mask by projecting surface geometry onto the height field, or by intersecting the height field with a fog or SDF volume."]}, {"indent": 0, "type": "para", "extent": [330, 412], "text": ["Connect a height field to the first input, and the geometry to the second input."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [417, 617], "text": ["This node projects the outline of geometry into a mask field as 2D. To project the geometry into a height field mask field as 3D height, use ", {"text": ["Height Field Project"], "fullpath": "/nodes/sop/heightfield_project", "scheme": "Node", "type": "link", "value": "/nodes/sop/heightfield_project"}, "."]}], "indent": 0, "role": "item", "type": "tip", "extent": [412, 417]}], "container": true, "role": "item_group", "type": "tip_group"}, {"body": [{"body": [{"body": [{"body": [{"type": "para", "indent": 4, "extent": [489, 560], "text": ["How to combine this mask with any existing mask in the input."]}, {"body": [{"body": [{"type": "para", "indent": 8, "extent": [573, 648], "text": ["Clear the existing mask and replace it with the new mask."]}], "type": "dt", "indent": 4, "extent": [560, 573], "text": ["Replace"]}, {"body": [{"type": "para", "indent": 8, "extent": [657, 724], "text": ["Add the values in this mask to any existing mask."]}], "type": "dt", "indent": 4, "extent": [648, 657], "text": ["Add"]}, {"body": [{"type": "para", "indent": 8, "extent": [738, 812], "text": ["Subtract the values in this mask from any existing mask."]}], "type": "dt", "indent": 4, "extent": [724, 738], "text": ["Subtract"]}, {"body": [{"type": "para", "indent": 8, "extent": [828, 911], "text": ["Set the mask values to the difference between the old mask and this mask."]}], "type": "dt", "indent": 4, "extent": [812, 828], "text": ["Difference"]}, {"body": [{"type": "para", "indent": 8, "extent": [925, 1079], "text": ["Multiply the values of the old mask by the values in this mask. This might be useful to \"scale\" existing values while leaving empty areas alone."]}], "type": "dt", "indent": 4, "extent": [911, 925], "text": ["Multiply"]}, {"body": [{"type": "para", "indent": 8, "extent": [1092, 1175], "text": ["Set the mask values to the maximum of the old mask and this mask."]}], "type": "dt", "indent": 4, "extent": [1079, 1092], "text": ["Maximum"]}, {"body": [{"type": "para", "indent": 8, "extent": [1188, 1271], "text": ["Set the mask values to the minimum of the old mask and this mask."]}], "type": "dt", "indent": 4, "extent": [1175, 1188], "text": ["Minimum"]}, {"body": [{"type": "para", "indent": 8, "extent": [1282, 1345], "text": ["Blend the old mask and this mask by a certain amount."]}], "type": "dt", "indent": 4, "extent": [1271, 1282], "text": ["Blend"]}], "type": "dt_group", "container": true}], "indent": 0, "text": ["Combine with Existing"], "role": "item", "attrs": {"id": "combine"}, "extent": [444, 467], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1372, 1620], "text": ["The amount to blend the old mask with what you draw, when ", {"text": ["Combine with existing"], "type": "ui"}, " is \"blend\". A value of ", {"text": ["0"], "type": "code"}, " leaves the existing mask, a value of ", {"text": ["1"], "type": "code"}, " replaces with the new mask, a value of ", {"text": ["0.5"], "type": "code"}, " blends equally between the old and new mask."]}], "indent": 0, "text": ["Blend"], "role": "item", "attrs": {"id": "blend"}, "extent": [1345, 1352], "type": "parameters_item"}, {"body": [{"body": [{"body": [{"indent": 8, "type": "para", "extent": [771, 888], "text": ["Assume the second input is surface geometry, project it \"down\" onto the terrain to create the mask."]}], "indent": 4, "type": "dt", "extent": [758, 771], "text": ["Project"]}, {"body": [{"indent": 8, "type": "para", "extent": [904, 1011], "text": ["Assume the second input is a fog volume, create the mask where it intersects the terrain."]}], "indent": 4, "type": "dt", "extent": [888, 904], "text": ["Fog Volume"]}, {"body": [{"indent": 8, "type": "para", "extent": [1027, 1127], "text": ["Assume the second input is an SDF volume, create the mask where it intersects the terrain."]}], "indent": 4, "type": "dt", "extent": [1011, 1027], "text": ["SDF Volume"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Method"], "role": "item", "attrs": {"id": "method"}, "extent": [729, 737], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"indent": 4, "type": "para", "extent": [1178, 1271], "text": ["Invert the mask, so the projection/intersection creates a hole in the mask instead."]}], "indent": 0, "text": ["Invert Mask: Invert Mask."], "attrs": {"id": "invertmask"}, "extent": [1127, 1153], "type": "para"}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [1311, 1438], "text": ["The maximum distance to project before deciding the projection has missed the height field, when ", {"text": ["Method"], "type": "ui"}, " is \"project\"."]}], "indent": 0, "text": ["Maximum Distance"], "role": "item", "attrs": {"id": "maxdist"}, "extent": [1271, 1289], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1469, 1553], "text": ["The value to set the the mask layer to where the geometry projects/intersects."]}], "indent": 0, "text": ["Density"], "role": "item", "attrs": {"id": "density"}, "extent": [1438, 1447], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1658, 1769], "text": ["How to blur the edges of the mask. The effect is only visible when ", {"text": ["Blur radius"], "type": "ui"}, " is greater than 0."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [1779, 1811], "text": ["Gaussian blur."]}], "indent": 4, "type": "dt", "extent": [1769, 1779], "text": ["Blur"]}, {"body": [{"indent": 8, "type": "para", "extent": [1825, 1855], "text": ["Faster blur."]}], "indent": 4, "type": "dt", "extent": [1811, 1825], "text": ["Box Blur"]}, {"body": [{"indent": 8, "type": "para", "extent": [1867, 1930], "text": ["Instead of blurring, expand the drawn shapes."]}], "indent": 4, "type": "dt", "extent": [1855, 1867], "text": ["Expand"]}, {"body": [{"indent": 8, "type": "para", "extent": [1942, 2010], "text": ["Instead of blurring, shrink the drawn shapes."]}], "indent": 4, "type": "dt", "extent": [1930, 1942], "text": ["Shrink"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Blur Method"], "role": "item", "attrs": {"id": "blurmethod"}, "extent": [1620, 1633], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2048, 2180], "text": ["How much to blur/expand/shrink the edges of the filled shapes (depending on the ", {"text": ["Blur method"], "type": "ui"}, "). A value of 0 has no effect."]}], "indent": 0, "text": ["Blur Radius"], "role": "item", "attrs": {"id": "blurradius"}, "extent": [2010, 2023], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3017, 3261], "text": ["When projecting, send extra rays which are randomly perturbed (\"jittered\"), and whose results are combined using the specified ", {"text": ["Ray Combiner"], "type": "ui"}, ". This is useful when your models have small gaps or holes which the ray could otherwise miss. "]}], "indent": 0, "text": ["Supersampling"], "role": "item", "attrs": {"id": "dojitter"}, "extent": [2983, 2998], "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "extent": [3287, 3631], "text": ["The number of sample rays to send. If set to more than 1, a ray is sent from the center of the current voxel, and the starting points of the extra rays are scattered around the center. The distances returned from these collisions are combined as specified by the Ray Combiner. This effect is only visible if the ", {"text": ["Jitter"], "type": "ui"}, " value is not 0."]}], "indent": 0, "text": ["Samples"], "role": "item", "attrs": {"id": "sample"}, "extent": [3261, 3270], "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "extent": [3656, 3970], "text": ["Controls how much the extra rays can vary, specified in voxels. A jitter value of 1 means the extra rays can be up to 1 voxel away from the center of the current voxel, while a jitter value of 0.5 specifies that rays differ by only up to half a voxel away from the center. A jitter value of 0 has no effect. "]}], "indent": 0, "text": ["Jitter"], "role": "item", "attrs": {"id": "jitter"}, "extent": [3631, 3639], "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "extent": [4008, 4111], "text": ["Controls how the distances to the collisions of each ray are combined into a single distance."]}, {"body": [{"body": [{"type": "para", "indent": 8, "extent": [4124, 4186], "text": ["Averages the distances to create the final distance."]}], "type": "dt", "indent": 4, "extent": [4111, 4124], "text": ["Average"]}, {"body": [{"type": "para", "indent": 8, "extent": [4198, 4346], "text": ["The final distance is the median distance. This often does a good job of smoothing away spikes which occur as a result of gaps in a model."]}], "type": "dt", "indent": 4, "extent": [4186, 4198], "text": ["Median"]}, {"body": [{"type": "para", "indent": 8, "extent": [4360, 4417], "text": ["The shortest ray determines the final distance."]}], "type": "dt", "indent": 4, "extent": [4346, 4360], "text": ["Shortest"]}, {"body": [{"type": "para", "indent": 8, "extent": [4430, 4486], "text": ["The longest ray determines the final distance."]}], "type": "dt", "indent": 4, "extent": [4417, 4430], "text": ["Longest"]}], "type": "dt_group", "container": true}], "indent": 0, "text": ["Ray Combiner"], "role": "item", "attrs": {"id": "jittercombine"}, "extent": [3970, 3984], "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "extent": [4507, 4663], "text": ["Seeds the random number generator. Different seeds will give different sets of rays, so this can be tuned to minimize spikes caused by gaps and holes."]}], "indent": 0, "text": ["Seed"], "role": "item", "attrs": {"id": "seed"}, "extent": [4486, 4492], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Masking"], "extent": [629, 644], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [145, 444], "text": ["If a mask volume is wired into this node\u2019s second input, this specifies which volume in the second input to use to mask this node\u2019s effect, usually ", {"text": ["mask"], "type": "code"}, ". Click the \"Add mask paint\" button to paint the mask directly in the viewport (this automatically adds a paint node to the second input)."]}], "indent": 0, "text": ["Mask Layer"], "role": "item", "attrs": {"id": "masklayer"}, "extent": [109, 121], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [40, 109], "text": ["The name of the height volume to operate on, usually ", {"text": ["height"], "type": "code"}, "."]}], "indent": 0, "text": ["Height Layer"], "role": "item", "attrs": {"id": "heightlayer"}, "extent": [0, 14], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Layer Bindings"], "extent": [1834, 1855], "container": true, "type": "h", "id": null}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [617, 629], "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "extent": [1954, 1989], "text": [{"text": "", "fullpath": "/nodes/sop/heightfield_project", "scheme": "Node", "type": "link", "value": "/nodes/sop/heightfield_project"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "extent": [1945, 1954], "container": true, "type": "related_section", "id": "related"}], "title": ["HeightField Mask by Object"], "summary": ["Creates a mask based some other geometry."], "attrs": {"version": null, "namespace": null, "internal": "heightfield_maskbyobject", "context": "sop", "type": "node", "icon": "SOP/heightfield_maskbyobject"}, "included": ["/nodes/sop/_heightfield_common", "/nodes/sop/heightfield_project"], "type": "root"}