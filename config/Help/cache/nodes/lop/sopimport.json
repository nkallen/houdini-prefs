{"body": [{"indent": 0, "text": ["SOP Import"], "type": "title", "extent": [0, 15], "level": 0}, {"indent": 0, "type": "summary", "extent": [101, 171], "text": ["Imports geometry from a SOP network into the USD scene graph."]}, {"body": [{"indent": 0, "type": "para", "extent": [186, 428], "text": ["The imported geometry is translated to a native USD representation which may consist of many different native USD primitive types (you can control the hierarchical structure of the imported USD using attributes on the source SOP geometry)."]}, {"indent": 0, "type": "para", "extent": [428, 556], "text": ["See ", {"text": ["how SOP import works"], "fullpath": "/solaris/sop_import", "scheme": null, "type": "link", "value": "/solaris/sop_import"}, " for detailed information on how the importer converts SOP information into USD."]}, {"indent": 0, "type": "para", "extent": [556, 788], "text": ["You can import SOP geometry by sublayering (composing it over the current contents of the scene tree) or referencing (attaching it at a certain branch of the scene tree). (See ", {"fragment": "#sublayers", "text": ["sublayering and referencing"], "value": "/solaris/usd#sublayers", "fullpath": "/solaris/usd#sublayers", "scheme": null, "type": "link"}, ".)"]}, {"indent": 0, "type": "para", "extent": [788, 958], "text": ["The layer containing the imported geometry has source metadata in format that tells Houdini\u2019s USD plugins to get the geometry from a SOP node instead of a file on disk."]}, {"indent": 0, "type": "para", "extent": [958, 1090], "text": ["This node can put the imported geometry in the ", {"text": ["active layer"], "type": "em"}, ", so it can be modified by LOP nodes connected to this node\u2019s output."]}, {"indent": 0, "type": "para", "extent": [1090, 1194], "text": ["In addition to the geometry itself, you can import Houdini attributes on the geometry as USD primvars."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [1200, 1405], "text": ["This node works by converting SOP geometry into a hierarchy of USD geometry prims, and then importing that USD data into the scene graph tree (by ", {"fragment": "#sublayers", "text": ["sublayering or referencing"], "value": "/solaris/usd#sublayers", "fullpath": "/solaris/usd#sublayers", "scheme": null, "type": "link"}, ")."]}, {"indent": 4, "type": "para", "extent": [1405, 1599], "text": ["Knowing this will help you interpret some of the parameters, such as \"which prim to reference in\". They are speaking in terms of how to deal with the already-converted USD geometry prims."]}], "indent": 0, "role": "item", "type": "note", "extent": [1194, 1200]}], "container": true, "role": "item_group", "type": "note_group"}], "indent": 0, "level": 2, "text": ["Overview"], "extent": [171, 186], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"body": [{"body": [{"body": [{"indent": 8, "blevel": 10, "type": "bullet", "extent": [1736, 1792], "text": ["Set the ", {"text": ["Connectivity type"], "type": "ui"}, " to \"Primitive\"."]}, {"indent": 8, "blevel": 10, "type": "bullet", "extent": [1792, 1837], "text": ["Set the ", {"text": ["Attribute"], "type": "ui"}, " to ", {"text": ["piece"], "type": "code"}, "."]}], "container": true, "type": "bullet_group"}, {"indent": 8, "type": "para", "extent": [1837, 2019], "text": ["This creates a ", {"text": ["piece"], "type": "code"}, " integer attribute on the polygons, where each polygon in a connected island has the same ", {"text": ["piece"], "type": "code"}, " attribute value as all other polygons in the island."]}, {"indent": 8, "type": "para", "extent": [2019, 2169], "text": ["Unfortunately, SOP Import can\u2019t use an integer attribute to generate paths. We\u2019ll need to use this attribute to generate a string attribute."]}], "indent": 4, "text": ["In the SOP network, add a ", {"text": ["Connectivity node"], "fullpath": "/nodes/sop/connectivity", "scheme": "Node", "type": "link", "value": "/nodes/sop/connectivity"}, "."], "extent": [1660, 1736], "blevel": 6, "type": "ord"}, {"body": [{"body": [{"indent": 8, "blevel": 10, "type": "bullet", "extent": [2260, 2298], "text": ["Set the ", {"text": ["Name"], "type": "ui"}, " to ", {"text": ["path"], "type": "code"}, "."]}, {"indent": 8, "blevel": 10, "type": "bullet", "extent": [2298, 2342], "text": ["Set the ", {"text": ["Class"], "type": "ui"}, " to \"Primitive\"."]}, {"indent": 8, "blevel": 10, "type": "bullet", "extent": [2342, 2382], "text": ["Set the ", {"text": ["Type"], "type": "ui"}, " to \"String\"."]}, {"indent": 8, "blevel": 10, "type": "bullet", "extent": [2382, 2613], "text": ["Set the ", {"text": ["String"], "type": "ui"}, " value to a name or prim path you want to use for the connected islands. Within the name/path use ", {"text": ["@piece"], "type": "code"}, " inside backticks. It will be replaced by the value of the ", {"text": ["piece"], "type": "code"}, " attribute you created above."]}], "container": true, "type": "bullet_group"}, {"indent": 8, "type": "para", "extent": [2613, 2715], "text": ["For example, if you have four disconnected polygon islands, and set the ", {"text": ["path"], "type": "code"}, " attribute to:"]}, {"lang": null, "indent": 8, "type": "pre", "extent": [2715, 2762], "text": ["\n        island`@piece`\n        "]}, {"indent": 8, "type": "para", "extent": [2762, 2909], "text": ["Then the islands will be imported as mesh prims named ", {"text": ["island0"], "type": "code"}, ", ", {"text": ["island1"], "type": "code"}, ", ", {"text": ["island2"], "type": "code"}, ", and ", {"text": ["island3"], "type": "code"}, ", under the ", {"text": ["Import path prefix"], "type": "ui"}, "."]}], "indent": 4, "text": ["After the Connectivity node, add an ", {"text": ["Attribute Create node"], "fullpath": "/nodes//sop/attribcreate", "scheme": "Node", "type": "link", "value": "/nodes//sop/attribcreate"}, "."], "extent": [2169, 2260], "blevel": 6, "type": "ord"}], "container": true, "type": "ord_group"}], "indent": 0, "text": ["Separate polygon meshes by connectivity"], "role": "item", "extent": [1612, 1660], "type": "task"}], "container": true, "role": "item_group", "type": "task_group"}], "indent": 0, "level": 2, "text": ["How to"], "extent": [1599, 1612], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [2935, 3139], "text": ["Many parameters on this node are preceded by a checkbox to enable the parameter. These check boxes control which options will actually be authored by this node and passed to the SOP conversion process."]}, {"indent": 0, "type": "para", "extent": [3139, 3406], "text": ["If a parameter is not enabled, the node try to get the value from a detail attribute corresponding that option. You can create these attributes on the geometry with the ", {"text": ["USD Configure SOP"], "fullpath": "/nodes/sop/usdconfigure", "scheme": "Node", "type": "link", "value": "/nodes/sop/usdconfigure"}, ". If it doesn\u2019t find an attribute, it uses the default."]}, {"indent": 0, "type": "para", "extent": [3406, 3509], "text": ["Enabling an option on this node overrides the corresponding attribute on the geometry, if it exists."]}], "indent": 0, "level": 2, "text": ["Enabling parameters"], "extent": [2909, 2935], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "extent": [3520, 3617], "text": ["You can import packed primitives from SOPs as USD native instances, or as a point instancer."]}, {"body": [{"indent": 4, "type": "para", "extent": [3778, 4118], "text": ["To retrieve both the geometry and generate USD materials for an object authored in Houdini, you can use a SOP Create node, or a combination of a SOP Import to import the geometry, a ", {"text": ["Material Library LOP"], "fullpath": "/nodes/lop/materiallibrary", "scheme": "Node", "type": "link", "value": "/nodes/lop/materiallibrary"}, " to bring in the materials, and a ", {"text": ["Material Assign LOP"], "fullpath": "/nodes/lop/materialassign", "scheme": "Node", "type": "link", "value": "/nodes/lop/materialassign"}, " to bind the two together."]}, {"indent": 4, "type": "para", "extent": [4118, 4292], "text": ["You could also use a ", {"text": ["Scene Import LOP"], "fullpath": "/nodes/lop/sceneimport", "scheme": "Node", "type": "link", "value": "/nodes/lop/sceneimport"}, " to import geometry and materials with a single node, but it provides fewer control over the import process."]}], "indent": 0, "text": ["This node does not import material information (other than being able to create USD primvars or geometry subsets from the ", {"text": ["shop_materialpath"], "type": "code"}, " SOP attribute)."], "extent": [3617, 3778], "blevel": 2, "type": "bullet"}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [4292, 4606], "text": ["Houdini\u2019s shape SOPs (such as box and torus) either create polygonal meshes, or have the option to create polygons instead of mathematical primitives. Even though USD has mathematical primitives for Cube and Torus, if the original SOP output a polygonal mesh, it will be imported into USD as a polygonal mesh."]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 2, "text": ["Tips"], "extent": [3509, 3520], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [4629, 4685], "text": ["Node path to the SOP node you want to import from."]}], "indent": 0, "text": ["SOP Path"], "role": "item", "extent": [4618, 4629], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4726, 4979], "text": ["When this is on, the geometry will be imported as a ", {"fragment": "#payloads", "text": ["payload"], "value": "/solaris/usd#payloads", "fullpath": "/solaris/usd#payloads", "scheme": null, "type": "link"}, ". When this is off, the geometry will be imported by sublayering its hierarchy over the existing scene tree (see ", {"fragment": "#sublayers", "text": ["sublayers and references"], "value": "/solaris/usd#sublayers", "fullpath": "/solaris/usd#sublayers", "scheme": null, "type": "link"}, ")."]}], "indent": 0, "text": ["Load As Reference"], "role": "item", "attrs": {"id": "asreference"}, "extent": [4685, 4704], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5037, 5405], "text": ["(When ", {"text": ["Load as reference"], "type": "ui"}, " is off.) By default, geometry imported from SOPs is treated like geometry imported from a file on disk: you can only edit it by applying stronger ", {"fragment": "#compose", "text": ["opinions"], "value": "/solaris/usd#compose", "fullpath": "/solaris/usd#compose", "scheme": null, "type": "link"}, " on top. If you turn this on, however, this node puts the geometry in the ", {"text": ["active layer"], "type": "em"}, ", so it can be modified by LOP nodes connected to this node\u2019s output."]}, {"indent": 4, "type": "para", "extent": [5405, 5721], "text": ["The node does this by copying the contents generated from the SOP geometry into an anonymous in-memory USD layer. This is slower, but provides more options for how many USD layers you need to write to disk, and what goes in each layer. This is similar to the operation of a ", {"text": ["Load Layer LOP"], "fullpath": "/nodes/lop/loadlayer", "scheme": "Node", "type": "link", "value": "/nodes/lop/loadlayer"}, "."]}], "indent": 0, "text": ["Copy Contents Into Editable Layer"], "role": "item", "attrs": {"id": "copycontents"}, "extent": [4979, 5014], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [5791, 6161], "text": ["(When ", {"text": ["Load as reference"], "type": "ui"}, " is off.) When this is on (the default), the node automatically compensates for transform problems created if you round-trip geometry from LOPs to SOPs (as packed USD primitives) and then back to LOPs again. If you know you are not round-tripping LOPs  \u2192 SOP packed USD primitives  \u2192 LOPs, you can turn this off to make importing faster."]}, {"indent": 4, "type": "para", "extent": [6161, 6481], "text": ["Packed Primitives in SOPs only have a single transform, representing the full local-to-world transformation of the packed geometry. If you export a USD geometry primitive to SOPs ", {"text": ["as a packed USD primitive"], "type": "em"}, ", Houdini flattens the full transformation hierarchy under the USD prim into a single transformation matrix."]}, {"indent": 4, "type": "para", "extent": [6481, 6778], "text": ["This creates a problem if you then \"round-trip\" the SOP packed primitive back into LOPs, as the descendants will have their own transforms, which are ", {"text": ["also"], "type": "em"}, " now incorporated into the root prim\u2019s transform imported from SOPs. This results in an incorrect double-application of the transforms."]}, {"indent": 4, "type": "para", "extent": [6778, 7247], "text": ["When this parameter is on (the default), the node examines every transformation imported from SOPs, in the context of the prim\u2019s location in the scene graph hierarchy. If the prim (or its ancestors) already exist on the input stage, the node inverts the transformations of the ancestor prims, and applies them as additional local transformations on the prim. This ensures that the final world space location of the prim in LOPS will be the same as it was in SOPs."]}, {"indent": 4, "type": "para", "extent": [7247, 7483], "text": ["If ", {"text": ["Copy Contents Into Editable Layer"], "type": "ui"}, " is on, the node applies these additional transforms directly to the imported primitives, otherwise the node creates a new active layer and puts the transforms in the new layer as overrides."]}], "indent": 0, "text": ["Adjust Transforms for Input Hierarchy"], "role": "item", "attrs": {"id": "adjustxformsforinput"}, "extent": [5721, 5760], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [7522, 7828], "text": ["(When ", {"text": ["Load as reference"], "type": "ui"}, " is on.) This node treats the converted geometry like an external USD geometry file. This controls which root-level prim to import from the USD prim hierarchy generated by converting the SOP geometry. You should leave this set to \"Reference Automatically Chosen Primitive\"."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [7874, 8116], "text": ["If the referenced file has a ", {"fragment": "#default_prim", "text": ["default primitive"], "value": "/solaris/usd#default_prim", "fullpath": "/solaris/usd#default_prim", "scheme": null, "type": "link"}, " set, use that. If there is no default prim, use the first Xform prim at the root. If there is no Xform prim at the root, use the first root prim of any type."]}], "indent": 4, "type": "dt", "extent": [7828, 7874], "text": ["Reference Automatically Chosen Primitive"]}, {"body": [{"indent": 8, "type": "para", "extent": [8149, 8288], "text": ["If the referenced file has a ", {"fragment": "#default_prim", "text": ["default primitive"], "value": "/solaris/usd#default_prim", "fullpath": "/solaris/usd#default_prim", "scheme": null, "type": "link"}, " set, use that. If not, display a warning on this node."]}], "indent": 4, "type": "dt", "extent": [8116, 8149], "text": ["Reference Default Primitive"]}, {"body": [{"indent": 8, "type": "para", "extent": [8322, 8412], "text": ["Reference in the scene graph path in the ", {"text": ["Reference primitive path"], "type": "ui"}, " parameter."]}], "indent": 4, "type": "dt", "extent": [8288, 8322], "text": ["Reference Specific Primitive"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Reference Primitive"], "role": "item", "attrs": {"id": "refprim"}, "extent": [7483, 7504], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [10396, 10523], "text": ["When ", {"text": ["Reference primitive"], "type": "ui"}, " is \"Reference specific primitive\", this is the scene graph path to the prim to reference in."]}, {"indent": 4, "type": "para", "extent": [10523, 10724], "text": ["(If you set this field ", {"text": ["automaticPrim"], "type": "code"}, " or ", {"text": ["defaultPrim"], "type": "code"}, ", it mimics the behavior of setting ", {"text": ["Reference primitive"], "type": "ui"}, " to \"Reference automatically chosen primitive\" or \"Reference default primitive\".)"]}], "indent": 0, "text": ["Reference Primitive Path"], "role": "item", "attrs": {"id": "refprimpath"}, "extent": [8412, 8438], "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "extent": [3946, 4196], "text": ["Scene graph path where the referenced branch will be attached. The referenced prim will be overlayed onto this prim, and the referenced prim\u2019s descendants will become this prim\u2019s descendants. If this prim doesn\u2019t exist, the node will create it."]}], "indent": 0, "text": ["Primitive Path"], "role": "item", "attrs": {"id": "primpath"}, "extent": [3910, 3927], "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "extent": [4664, 4903], "text": ["Mark the destination prim as ", {"fragment": "#instancing", "text": ["instanceable (as in \"native instancing\")"], "value": "/solaris/usd#instancing", "fullpath": "/solaris/usd#instancing", "scheme": null, "type": "link"}, ". This saves memory if you reference the same branch into multiple places, but makes the descendants of the referenced prim not editable."]}], "indent": 0, "text": ["Make Instanceable"], "role": "item", "attrs": {"id": "instanceable"}, "extent": [4618, 4637], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [8616, 8811], "text": ["If the prim at ", {"text": ["Primitive path"], "type": "ui"}, " doesn\u2019t exist, this node will create it. If it has to create the prim, it will give any intermediate prims it has to create this ", {"fragment": "#kinds", "text": ["kind"], "value": "/solaris/usd#kinds", "fullpath": "/solaris/usd#kinds", "scheme": null, "type": "link"}, "."]}], "indent": 0, "text": ["Parent Primitive Kind"], "role": "item", "attrs": {"id": "parentprimkind"}, "extent": [8568, 8591], "type": "parameters_item"}, {"body": [{"type": "para", "indent": 4, "extent": [4444, 4618], "text": ["If the prim at ", {"text": ["Primitive path"], "type": "ui"}, " doesn\u2019t exist, this node will create it. If it has to create the prim, it will give any intermediate prims it has to create this type."]}], "indent": 0, "text": ["Parent Primitive Type"], "role": "item", "attrs": {"id": "parentprimtype"}, "extent": [4396, 4419], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [8877, 9063], "text": ["Turn this on and specify a group name (or a space-separated list of ", {"text": ["group syntax"], "fullpath": "/model/groups", "scheme": null, "type": "link", "value": "/model/groups"}, ") to import. If you turn this on but leave the field blank, it imports all geoemtry."]}], "indent": 0, "text": ["Import Group"], "role": "item", "attrs": {"id": "group"}, "extent": [8847, 8861], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [9104, 9511], "text": ["If a prim being imported has an automatically generated name (like ", {"text": ["mesh_0"], "type": "code"}, ") because it had no path primitive, or if it has a path primitive but the path is relative (does not start with ", {"text": ["/"], "type": "code"}, "), the node automatically prefixes the name/path fragment with this path. This is a way of keeping \"un-pathed\" prims organized under a single branch. (See ", {"text": ["how to create geometry hierarchy"], "fullpath": "/solaris/sop_import", "scheme": null, "type": "link", "value": "/solaris/sop_import"}, ".)"]}, {"indent": 4, "type": "para", "extent": [9511, 9615], "text": ["(The default is ", {"text": ["/$OS"], "type": "code"}, " which puts \"un-pathed\" prims under a root prim with the name of this node.)"]}], "indent": 0, "text": ["Import Path Prefix"], "role": "item", "attrs": {"id": "pathprefix"}, "extent": [9063, 9083], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [9651, 9959], "text": ["When this is turned on, set the Save Path metadata for the layer containing the geometry to this file path. When you write out USD using a ", {"text": ["USD render node"], "fullpath": "/nodes/out/usd", "scheme": "Node", "type": "link", "value": "/nodes/out/usd"}, ", the geometry will be saved out to a ", {"text": [".usd"], "type": "code"}, " layer file using this file path (after ", {"fragment": "#processors", "text": ["output processing"], "value": "/solaris/output#processors", "fullpath": "/solaris/output#processors", "scheme": null, "type": "link"}, ")."]}], "indent": 0, "text": ["Layer Save Path"], "role": "item", "attrs": {"id": "savepath"}, "extent": [9615, 9632], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"indent": 0, "type": "para", "extent": [9997, 10129], "text": ["Parameters in this group guide the translation process in terms of how USD primitives are generated from the source SOP geometry."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [10152, 10229], "text": ["What to do with packed USD primitives in the imported SOP geometry."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [10253, 10423], "text": ["Import the transformation of the packed USD primitive as an override (", {"text": ["Over"], "type": "code"}, ") prim. This makes it easy to transform the packed USD prims without unpacking them."]}], "indent": 4, "type": "dt", "extent": [10229, 10253], "text": ["Overlay Transforms"]}, {"body": [{"indent": 8, "type": "para", "extent": [10435, 10501], "text": ["Ignore packed USD primitives in the source SOP geometry."]}], "indent": 4, "type": "dt", "extent": [10423, 10435], "text": ["Ignore"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Packed USD Primitives"], "role": "item", "extent": [10129, 10152], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [10519, 10618], "text": ["What to do with regular non-packed primitives (points, curves, polygons, spheres, and so on)."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [10630, 10760], "text": ["Create the USD prims for the imported geometry if they don\u2019t already exist. This is the standard way to import geometry."]}], "indent": 4, "type": "dt", "extent": [10618, 10630], "text": ["Define"]}, {"body": [{"indent": 8, "type": "para", "extent": [10773, 11034], "text": ["Create the USD prims as overrides. They will only be visiable as changes to any prims that exist at a lower level with the same paths. This may be useful where you only want to import and modify certain attributes from SOPs onto existing USD geometry."]}], "indent": 4, "type": "dt", "extent": [10760, 10773], "text": ["Overlay"]}, {"body": [{"indent": 8, "type": "para", "extent": [11058, 11116], "text": ["Like \"Overlay\", but only imports transform data."]}], "indent": 4, "type": "dt", "extent": [11034, 11058], "text": ["Overlay Transforms"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Other Primitives"], "role": "item", "extent": [10501, 10519], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [11145, 11512], "text": ["Author intermediate primitives (for example, any ", {"text": ["Xform"], "type": "code"}, " prims created for the ", {"text": ["Import path prefix"], "type": "ui"}, ") as overrides instead of definitions. This means if they don\u2019t match up with underlying prims in lower layers, the leaf prims won\u2019t be added to the scene. This is useful if you only want to import the geometry if its ancestors already exist in the scene tree."]}, {"indent": 4, "type": "para", "extent": [11512, 11632], "text": ["(Note that all of the data is still imported, it just may not be visible in the scene graph tree or the viewport.)"]}], "indent": 0, "text": ["Define Only Leaf Primitives"], "role": "item", "extent": [11116, 11145], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [11651, 11702], "text": ["What to do with SOP-native packed primitives."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [11721, 11785], "text": ["Only import transform data from the packed primitives."]}], "indent": 4, "type": "dt", "extent": [11702, 11721], "text": ["Create Xforms"]}, {"body": [{"indent": 8, "type": "para", "extent": [11814, 12022], "text": ["Import the geometry in packed primitives as ", {"fragment": "#instancing", "text": ["instanceable references"], "value": "/solaris/usd#instancing", "fullpath": "/solaris/usd#instancing", "scheme": null, "type": "link"}, ". This imports each piece as a prototype under a ", {"text": ["Prototypes"], "type": "code"}, " prim under the ", {"text": ["Import Path Prefix"], "type": "ui"}, " prim."]}], "indent": 4, "type": "dt", "extent": [11785, 11814], "text": ["Create Native Instances"]}, {"body": [{"indent": 8, "type": "para", "extent": [12050, 12233], "text": ["Import the geometry in packed primitives as ", {"fragment": "#instancing", "text": ["point instanced geometry"], "value": "/solaris/usd#instancing", "fullpath": "/solaris/usd#instancing", "scheme": null, "type": "link"}, ". This imports each unique piece as a prototype under the point instancer prim."]}, {"indent": 8, "type": "para", "extent": [12233, 12386], "text": ["You can assign a SOP primitive attribute to the packed primitive named ", {"text": ["usdinstancerpath"], "type": "code"}, " to specify the USD scene graph path of the instancer."]}], "indent": 4, "type": "dt", "extent": [12022, 12050], "text": ["Create Point Instancer"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Packed Primitives"], "role": "item", "extent": [11632, 11651], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [12402, 12467], "text": ["How to assign ", {"fragment": "#kinds", "text": ["kinds"], "value": "/solaris/usd#kinds", "fullpath": "/solaris/usd#kinds", "scheme": null, "type": "link"}, " to imported prims."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [12502, 12599], "text": ["Set root primitives in the imported tree to Component. Do not set kinds on descendants."]}], "indent": 4, "type": "dt", "extent": [12467, 12502], "text": ["All Geometry is One Component"]}, {"body": [{"indent": 8, "type": "para", "extent": [12633, 12729], "text": ["Set leaf primitives in the imported tree to Component. Set branch primitives to Group."]}], "indent": 4, "type": "dt", "extent": [12599, 12633], "text": ["Nested Groups and Components"]}, {"body": [{"indent": 8, "type": "para", "extent": [12774, 12901], "text": ["Set root prims in the imported tree to Assembly. Set intermediate branch prims to Group. Set leaf prims to Component."]}], "indent": 4, "type": "dt", "extent": [12729, 12774], "text": ["Nested Assembly, Groups, and Components"]}, {"body": [{"indent": 8, "type": "para", "extent": [12911, 12960], "text": ["Do not set kinds on the imported prims."]}], "indent": 4, "type": "dt", "extent": [12901, 12911], "text": ["None"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Kind Authoring"], "role": "item", "extent": [12386, 12402], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [12977, 13188], "text": ["A (comma or space-separated) list of names of SOP ", {"text": ["primitive string attributes"], "type": "strong"}, " to use to use as prim paths to put the SOP geometry into. The default is ", {"text": ["path,name"], "type": "code"}, ". See ", {"fragment": "#import", "text": ["geometry hierarchy"], "value": "#import", "fullpath": "/nodes/lop/sopimport#import", "scheme": null, "type": "link"}, " above."]}, {"indent": 4, "type": "para", "extent": [13188, 13300], "text": ["If the list has more than one attribute, the importer checks each attribute for the first non-empty value."]}, {"indent": 4, "type": "para", "extent": [13300, 13552], "text": ["If the string value a full path, that path is used as the USD scene graph path for that primitive. If the string is a relative path (or just a name), the string is appended to the ", {"text": ["Import Path Prefix"], "type": "ui"}, " string to generate a full scene graph path."]}, {"indent": 4, "type": "para", "extent": [13552, 13729], "text": ["If none of the listed attributes exist on a given SOP primitive, or all values are an empty string, the importer generates a name automatically (for example, ", {"text": ["sphere_0"], "type": "code"}, ")."]}], "indent": 0, "text": ["Path Attributes"], "role": "item", "extent": [12960, 12977], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Primitive Definition"], "extent": [9959, 9997], "container": true, "type": "h", "id": "prim_def"}, {"body": [{"indent": 0, "type": "para", "extent": [13769, 13858], "text": ["These parameters provide options to alter the interpretation of the SOP geometry data."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [13898, 14087], "text": ["For polygon meshes that are not already tagged with a subdivision scheme, author a ", {"text": ["subdivisionScheme"], "type": "code"}, " attribute set to ", {"text": ["catmullClark"], "type": "code"}, ". This will convert them to subdivision surfaces."]}], "indent": 0, "text": ["Treat Polygons as Subdivision Surfaces"], "role": "item", "extent": [13858, 13898], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [14106, 14253], "text": ["If ", {"text": ["Treat Polygons as Subdivision Surfaces"], "type": "ui"}, " is on, only convert polygons in this primitive ", {"text": ["group"], "fullpath": "/model/groups", "scheme": null, "type": "link", "value": "/model/groups"}, " into subdivision surfaces."]}], "indent": 0, "text": ["Subdivision Group"], "role": "item", "extent": [14087, 14106], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [14286, 14586], "text": ["USD supports an ", {"text": ["orientation"], "type": "code"}, " attribute on mesh primitives that indicates whether polygons have a left-handed or right-handed ordering, while SOP geometry is always left-handed ordering. When this option is on, the importer always reorders vertices (and associated primvars) to be right-handed."]}, {"indent": 4, "type": "para", "extent": [14586, 14892], "text": ["This is useful when round tripping right-handed oriented polygons from USD into SOPs and back into USD. The data is always converted to a left handed ordering when importing it into SOPs. If you imported the polygons back into USD without this option, they would be left-handed, unlike the original."]}], "indent": 0, "text": ["Reverse Polygon Vertex Ordering"], "role": "item", "extent": [14253, 14286], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Geometry Handling"], "extent": [13729, 13769], "container": true, "type": "h", "id": "geom_handling"}, {"body": [{"indent": 0, "type": "para", "extent": [14924, 15091], "text": ["These parameters affect the conversion of SOP geometry attributes into USD attributes and primvars, and the choice between default and time sampled value authoring."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [15112, 15277], "text": ["Whether values imported from SOPs should be authored as default values for the corresponding USD attributes, or as a time sample (at the time in the timeline)."]}, {"indent": 4, "type": "para", "extent": [15277, 15472], "text": ["(When the USD system is asked for an attribute value, it returns the default if no time samples exist on the attribute. Otherwise it returns a value interpolated from the time sample data.)"]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [15502, 15659], "text": ["If the SOP node the geometry comes from is time-dependent (is animated or contains animated values), write time samples. Otherwise, write defaults."]}], "indent": 4, "type": "dt", "extent": [15472, 15502], "text": ["If SOP is Time Dependent"]}, {"body": [{"indent": 8, "type": "para", "extent": [15693, 15811], "text": ["Author all values as time samples except for attributes listed in the ", {"text": ["Single Value Attributes"], "type": "ui"}, " parameter."]}], "indent": 4, "type": "dt", "extent": [15659, 15693], "text": ["If Not Specifically Excluded"]}, {"body": [{"indent": 8, "type": "para", "extent": [15822, 15862], "text": ["Author all values as defaults."]}], "indent": 4, "type": "dt", "extent": [15811, 15822], "text": ["Never"]}], "container": true, "type": "dt_group"}, {"indent": 4, "type": "para", "extent": [15862, 16095], "text": ["(This is the only parameter on this node you can\u2019t pre-configure on the geometry with the ", {"text": ["USD Configure SOP"], "fullpath": "/nodes/sop/usdconfigure", "scheme": "Node", "type": "link", "value": "/nodes/sop/usdconfigure"}, ". This is because it requires a \"live\" SOP, not just attribute values embedded in the geometry.)"]}], "indent": 0, "text": ["Author Time Samples"], "role": "item", "extent": [15091, 15112], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [16116, 16216], "text": ["Controls whether USD topology attributes should be authored as time sampled or default values."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [16230, 16504], "text": ["If you know that topology is changing in the source geometry over time, choose this option to record topology attributes as time samples in the USD scene graph. Having animated topology can be very expensive during playback, so only use this option when necessary."]}], "indent": 4, "type": "dt", "extent": [16216, 16230], "text": ["Animated"]}, {"body": [{"indent": 8, "type": "para", "extent": [16516, 16656], "text": ["Write topology attributes as default values. This can make playback much faster, but limits how the topology can change over time."]}], "indent": 4, "type": "dt", "extent": [16504, 16516], "text": ["Static"]}, {"body": [{"indent": 8, "type": "para", "extent": [16666, 16710], "text": ["Do not author topology attributes."]}, {"indent": 8, "type": "para", "extent": [16710, 16979], "text": ["This is useful when USD data is sent to SOPs for processing, then brought back into LOPs. Using this option tells the importer that the geometry topology has not changed in this process, so only the changing point positions or other primvars will be imported."]}], "indent": 4, "type": "dt", "extent": [16656, 16666], "text": ["None"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Topology Attributes"], "role": "item", "extent": [16095, 16116], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [16991, 17111], "text": ["A space-separated list of attribute names/patterns specifying which SOP attributes to import into USD as primvars."]}, {"indent": 4, "type": "para", "extent": [17111, 17211], "text": ["In addition to matching attribute names directly, there are some values with special meanings:"]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [17225, 17335], "text": ["Authors the USD ", {"text": ["extent"], "type": "code"}, " attribute using the calculated bounding box of the associated SOP geometry."]}], "indent": 4, "type": "dt", "extent": [17211, 17225], "text": [{"text": ["bounds"], "type": "code"}]}, {"body": [{"indent": 8, "type": "para", "extent": [17353, 17460], "text": ["Authors the USD visibility attribute based on th value of the ", {"text": ["usdvisibility"], "type": "code"}, " geometry attribute."]}], "indent": 4, "type": "dt", "extent": [17335, 17353], "text": [{"text": ["visibility"], "type": "code"}]}], "container": true, "type": "dt_group"}, {"indent": 4, "type": "para", "extent": [17460, 17633], "text": ["See ", {"fragment": "#attrs", "text": ["importing attributes"], "value": "/solaris/sop_import#attrs", "fullpath": "/solaris/sop_import#attrs", "scheme": null, "type": "link"}, " for information on how the importer deals converts certain well-known Houdini attributes to their USD equivalents."]}], "indent": 0, "text": ["Attributes"], "role": "item", "extent": [16979, 16991], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [17653, 17781], "text": ["A space-separated list of attribute names/patterns specifying which SOP attributes to import into USD as indexed primvars."]}, {"indent": 4, "type": "para", "extent": [17781, 18024], "text": ["If a SOP attribute matches this pattern, the importer authors the primvar as an indexed array of values (that is, an array of values call ", {"text": ["primvars:", {"text": ["name"], "type": "var"}], "type": "code"}, ", and an array of indices into those values called ", {"text": ["primvars:", {"text": ["name"], "type": "var"}, ":indices"], "type": "code"}, ")."]}, {"indent": 4, "type": "para", "extent": [18024, 18316], "text": ["Preparing an indexed primvar can be expensive for attributes that are not integers or strings. You should only use indexed primvars where it is likely to result in significant savings in storage size due to a small number of unique values being used across a large number of components."]}], "indent": 0, "text": ["Indexed Attributes"], "role": "item", "extent": [17633, 17653], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [18341, 18744], "text": ["A space-separated list of attribute names/patterns specifying which SOP attributes to import into USD as primvars with ", {"text": ["Constant"], "type": "code"}, " interpolation (a single value for the whole primitive), regardless of whether the SOP geometry attribute is a point, primitive, or vertex attribute. If multiple values could be chosen for a particular USD primitive, the importer chooses the first value it encounters."]}], "indent": 0, "text": ["Single Value Attributes"], "role": "item", "extent": [18316, 18341], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [18764, 19028], "text": ["A space-separated list of attribute names/patterns specifying which SOP attributes to always author as default values for USD primvars (never time samples). This is the list of exclusions when ", {"text": ["Author Time Samples"], "type": "ui"}, " is set to \"If Not Specifically Excluded\"."]}], "indent": 0, "text": ["Set Default Values"], "role": "item", "extent": [18744, 18764], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [19050, 19320], "text": ["A space-separated list of attribute names/patterns specifying which SOP primitive string attributes represent subsets of the geometry. For mesh and curve primitives, the importer puts elements with the same value for this attribute into their own geometry subsets."]}, {"indent": 4, "type": "para", "extent": [19320, 19580], "text": ["The importer will try to set the subset name to the attribute value, but may need to change the name make it a legal USD primitive name. The importer stores the raw attribute value on the geometry subset prim as Custom Data with the key ", {"text": ["partitionValue"], "type": "code"}, "."]}], "indent": 0, "text": ["Partition Attributes"], "role": "item", "extent": [19028, 19050], "type": "parameters_item"}, {"body": [{"indent": 5, "type": "para", "extent": [19595, 19808], "text": ["A space-separated list of attribute names/patterns specifying SOP primitive ", {"text": ["groups"], "fullpath": "/model/groups", "scheme": null, "type": "link", "value": "/model/groups"}, ". SOP polygon and curve primitives in each group will be imported as a geometry subset, named for the group."]}], "indent": 0, "text": ["Subset Groups"], "role": "item", "extent": [19580, 19595], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [19838, 20079], "text": ["Convert the SOP vertex attribute ", {"text": ["uv"], "type": "code"}, " into a USD primvar called ", {"text": ["primvars:st"], "type": "code"}, ". Whether you need to turn this on depends on which renderer you are using and how your shaders are authored. If you are rendering with Karma, leave this off."]}, {"indent": 4, "type": "para", "extent": [20079, 20278], "text": ["(As of this writing there is no strict standard for texture coordinate naming in USD, but the use of ", {"text": ["st"], "type": "code"}, " is a common convention, whereas in SOP geometry, using ", {"text": ["uv"], "type": "code"}, " is the common convention.)"]}], "indent": 0, "text": ["Translate UV Attribute to ST"], "role": "item", "extent": [19808, 19838], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Import Data"], "extent": [14892, 14924], "container": true, "type": "h", "id": "import_data"}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [4606, 4618], "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 0, "role": "item", "type": "related_item", "extent": [20287, 20312], "text": [" ", {"text": "", "fullpath": "/nodes/lop/sopcreate", "scheme": "Node", "type": "link", "value": "/nodes/lop/sopcreate"}]}, {"indent": 0, "role": "item", "type": "related_item", "extent": [20312, 20339], "text": [" ", {"text": "", "fullpath": "/nodes/sop/usdconfigure", "scheme": "Node", "type": "link", "value": "/nodes/sop/usdconfigure"}]}, {"indent": 0, "role": "item", "type": "related_item", "extent": [20339, 20364], "text": [" ", {"text": "", "fullpath": "/nodes/sop/usdimport", "scheme": "Node", "type": "link", "value": "/nodes/sop/usdimport"}]}], "container": true, "role": "item_group", "type": "related_item_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "extent": [20278, 20287], "container": true, "type": "related_section", "id": "related"}], "title": ["SOP Import"], "summary": ["Imports geometry from a SOP network into the USD scene graph."], "attrs": {"group": "geometry", "version": null, "namespace": null, "internal": "sopimport", "context": "lop", "type": "node", "icon": "LOP/sopimport"}, "included": ["/nodes/lop/reference", "/solaris/usd"], "type": "root"}