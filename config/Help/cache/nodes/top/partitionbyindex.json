{"body": [{"indent": 0, "text": ["Partition by Index"], "type": "title", "extent": [92, 115], "level": 0}, {"indent": 0, "type": "summary", "extent": [115, 166], "text": ["Partitions work items based on their index"]}, {"indent": 0, "type": "para", "extent": [166, 262], "text": ["This node partitions work items based on their index value, or using a\ncustom indexing scheme."]}, {"body": [{"body": [{"body": [{"type": "para", "indent": 4, "extent": [287, 556], "text": ["When this toggle is enabled the partitioner will wait for all input\n    work items to be generated before partitioning them. If the input work items\n    are dynamic, this means the partitioner will have to wait for and\n    depend on the parent(s) of those items."]}], "indent": 0, "text": ["Use Dynamic Partitioning"], "role": "item", "attrs": {"id": "pdg_dynamicpartition"}, "extent": [230, 256], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [69, 230], "text": ["When this toggle is enabled the partitioner will merge the attributes\n    of the work items in each partition and export them to the partition\n    itself."]}], "indent": 0, "text": ["Merge Input Attributes"], "role": "item", "attrs": {"id": "pdg_partitionmerge"}, "extent": [16, 40], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [431, 528], "text": ["Determines how the work items from the node on the first/primary input\n    are partitioned."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [537, 616], "text": ["Each upstream item from the primary input is put into all partitions."]}], "indent": 4, "type": "dt", "extent": [528, 537], "text": ["All"]}, {"body": [{"indent": 8, "type": "para", "extent": [630, 733], "text": ["Each upstream item from the primary input is put into a partition\n        based on its index."]}], "indent": 4, "type": "dt", "extent": [616, 630], "text": ["By Index"]}, {"body": [{"indent": 8, "type": "para", "extent": [743, 837], "text": ["Upstream items from the primary input aren\u2019t put into any of the\n        partitions."]}], "indent": 4, "type": "dt", "extent": [733, 743], "text": ["None"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Primary Input Rule"], "role": "item", "attrs": {"id": "primary rule"}, "extent": [387, 408], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [888, 979], "text": ["Determines how the work items from the unordered secondary input\n    are partitioned."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [988, 1069], "text": ["Each upstream item from the secondary input is put into all partitions."]}], "indent": 4, "type": "dt", "extent": [979, 988], "text": ["All"]}, {"body": [{"indent": 8, "type": "para", "extent": [1083, 1188], "text": ["Each upstream item from the secondary input is put into a partition\n        based on its index."]}], "indent": 4, "type": "dt", "extent": [1069, 1083], "text": ["By Index"]}, {"body": [{"indent": 8, "type": "para", "extent": [1214, 1402], "text": ["Each upstream item from the secondary input is put into a partition\n        based on its index, provided that there is an item from the primary\n        input with the same index."]}], "indent": 4, "type": "dt", "extent": [1188, 1214], "text": ["Primary Intersection"]}, {"body": [{"indent": 8, "type": "para", "extent": [1412, 1508], "text": ["Upstream items from the secondary input aren\u2019t put into any of the\n        partitions."]}], "indent": 4, "type": "dt", "extent": [1402, 1412], "text": ["None"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Secondary Input Rule"], "role": "item", "attrs": {"id": "secondaryinputrule"}, "extent": [837, 859], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Index"], "extent": [375, 387], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [1523, 1620], "text": ["These are advanced parameters that provide finer control over the behavior of\nthe partitioner."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [614, 775], "text": ["When recooking the node, indicates that the partitioner should remove\n    old dependencies if the partitioning scheme changes as a result of the\n    cook."]}], "indent": 0, "text": ["Auto Remove Stale Dependencies"], "role": "item", "attrs": {"id": "pdg_removestale"}, "extent": [556, 588], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [833, 999], "text": ["Forces the partitioner to re-evaluation the partitioning scheme even if\n    all of the work items are already cooked and no new work items have\n    been added."]}], "indent": 0, "text": ["Force Re-Evaluation on Cook"], "role": "item", "attrs": {"id": "pdg_alwaysevaluate"}, "extent": [775, 804], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3277, 3541], "text": ["The dirty mode parameter offers fine grained control over when a partition\n    is dirtied and the effects on child items when that occurs. This parameter\n    is particularity useful for working around some of the limitation of using\n    dynamic partitioning."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [3555, 3823], "text": ["A given partition will be dirtied when any of the work items in the\n        partition are dirtied. In the case of dynamic partitioning, if any\n        ancestor of a dynamic work item in a partition is dirtied, then ", {"text": ["All"], "type": "ui"}, "\n        partitions will be dirtied."]}, {"indent": 8, "type": "para", "extent": [3823, 3893], "text": ["When a partition is dirtied all of its children are deleted."]}], "indent": 4, "type": "dt", "extent": [3541, 3555], "text": ["Standard"]}, {"body": [{"indent": 8, "type": "para", "extent": [3914, 4059], "text": ["The same dirtying behavior as ", {"text": ["Standard"], "type": "ui"}, ", except when a partition is\n        dirtied its children will be dirtied instead of deleted."]}], "indent": 4, "type": "dt", "extent": [3893, 3914], "text": ["Non-destructive"]}, {"body": [{"indent": 8, "type": "para", "extent": [4081, 4317], "text": ["A given partition will only be dirtied if an item in the partition is\n        dirtied or if the partition\u2019s contents changes as a result of a recook.\n        When the partition is dirtied, any child work items will be deleted."]}], "indent": 4, "type": "dt", "extent": [4059, 4081], "text": ["Mapping Standard"]}, {"body": [{"indent": 8, "type": "para", "extent": [4346, 4481], "text": ["The same as ", {"text": ["Mapping Standard"], "type": "ui"}, ", except when a partition is\n        dirtied its children will be dirtied instead of deleted."]}], "indent": 4, "type": "dt", "extent": [4317, 4346], "text": ["Mapping Non-destructive"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Dirtying Mode"], "role": "item", "attrs": {"id": "pdg_dirtymode"}, "extent": [3238, 3253], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2134, 2306], "text": ["Determines the order that work items are sorted when accessing the\n    partitions on this node. This also affects the sort order of output files on\n    the partition."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [2316, 2426], "text": ["No sorting is applied - the work items in the partition are handled in \n        no particular order."]}], "indent": 4, "type": "dt", "extent": [2306, 2316], "text": ["None"]}, {"body": [{"indent": 8, "type": "para", "extent": [2447, 2516], "text": ["Work items in the partition are sorted based on their index"]}], "indent": 4, "type": "dt", "extent": [2426, 2447], "text": ["Work Item Index"]}, {"body": [{"indent": 8, "type": "para", "extent": [2538, 2746], "text": ["Work items in the partition are sorted based on the order of inputs nodes\n        wired into the partitioner itself. If two work items are from the same\n        input, they are then sorted by index."]}], "indent": 4, "type": "dt", "extent": [2516, 2538], "text": ["Input Node Order"]}, {"body": [{"indent": 8, "type": "para", "extent": [2761, 2887], "text": ["Work items in the partition are sorted based on the attribute specified\n        in the ", {"text": ["Sort Attribute"], "type": "ui"}, " parameter."]}], "indent": 4, "type": "dt", "extent": [2746, 2761], "text": ["Attribute"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Sort Contents By"], "role": "item", "attrs": {"id": "pdg_partitionsort"}, "extent": [2088, 2106], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2940, 3054], "text": ["Determines whether the work items in this node\u2019s partitions are sorted in\n    ascending or descending order."]}], "indent": 0, "text": ["Sort Direction"], "role": "item", "attrs": {"id": "pdg_partitionsortdirection"}, "extent": [2887, 2903], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3104, 3238], "text": ["When ", {"text": ["Sort Contents By"], "type": "ui"}, " is set to ", {"text": ["Attribute"], "type": "ui"}, ", this parameter is used\n    to determine the name of the attribute to sort by."]}], "indent": 0, "text": ["Sort Attribute"], "role": "item", "attrs": {"id": "pdg_partitionsortattrib"}, "extent": [3054, 3070], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1482, 1632], "text": ["This parameter is only enabled when using dynamic partitioning. It controls\n    when the partitioning step is performed on the input work items."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [1663, 1733], "text": ["Inputs are partitioned once all of them have been generated."]}], "indent": 4, "type": "dt", "extent": [1632, 1663], "text": ["Input Items Are Generated"]}, {"body": [{"indent": 8, "type": "para", "extent": [1761, 1938], "text": ["Inputs are partitioned once all of them are cooked. This is required when\n        the partitioning scheme is based on the results of the work items'\n        execution."]}, {"indent": 8, "type": "para", "extent": [1938, 2088], "text": ["This makes this partitioner behave like a \n        ", {"text": ["Wait for All"], "fullpath": "/nodes/top/waitforall", "scheme": "Node", "type": "link", "value": "/nodes/top/waitforall"}, " except that it may create\n        multiple partitions."]}], "indent": 4, "type": "dt", "extent": [1733, 1761], "text": ["Input Items Are Cooked"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Partition When"], "role": "item", "attrs": {"id": "pdg_partitionwhen"}, "extent": [1438, 1454], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1047, 1263], "text": ["This parameter is only enabled when using dynamic partitioning. When the\n    target is set, the partition scheme will be applied to the work items in\n    the target TOP node instead of the input work items."]}, {"indent": 4, "type": "para", "extent": [1263, 1438], "text": ["The target TOP node must be a processor in the same graph above this\n    node, and there cannot be any other mappers or partitioner between this\n    node and the target."]}], "indent": 0, "text": ["Partition Target"], "role": "item", "attrs": {"id": "pdg_partitiontarget"}, "extent": [999, 1017], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Advanced"], "extent": [1508, 1523], "container": true, "type": "h", "id": null}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [262, 274], "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "extent": [2025, 2059], "text": [{"text": "", "fullpath": "/nodes/top/partitionbyattribute", "scheme": "Node", "type": "link", "value": "/nodes/top/partitionbyattribute"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [2059, 2094], "text": [{"text": "", "fullpath": "/nodes/top/partitionbyexpression", "scheme": "Node", "type": "link", "value": "/nodes/top/partitionbyexpression"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "extent": [2016, 2025], "container": true, "type": "related_section", "id": "related"}], "title": ["Partition by Index"], "summary": ["Partitions work items based on their index"], "attrs": {"version": null, "namespace": null, "internal": "partitionbyindex", "context": "top", "type": "node", "icon": "TOP/partitionbyindex"}, "included": ["/nodes/top/partitioner_common"], "type": "root"}