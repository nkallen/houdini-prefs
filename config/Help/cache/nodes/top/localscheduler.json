{"body": [{"indent": 0, "text": ["Local Scheduler"], "type": "title", "extent": [83, 103], "level": 0}, {"indent": 0, "type": "summary", "extent": [103, 154], "text": ["Schedules work items on the local machine."]}, {"indent": 0, "type": "para", "extent": [154, 745], "text": ["This node is the default scheduler that executes work items on the local\nmachine. Works items are scheduled to run in parallel.  The total number\nof work items running at once is specified by the parm ", {"text": ["Total Slots"], "type": "ui"}, " in\ncombination with the job parm ", {"text": ["Slots Per Work Item"], "type": "ui"}, ".  ", {"text": ["Total Slots"], "type": "ui"}, " is how\nyou set the total resources of the scheduler, and ", {"text": ["Slots Per Work Item"], "type": "ui"}, " is how\nto tweak how many work items should run at once.  Note that these settings are not\nrelated to multithreading of individual processes.  For Houdini work items, that\ncan be controlled by ", {"text": ["Houdini Max Threads"], "type": "ui"}, "."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [750, 1323], "text": ["If some tasks consume a lot of computational or memory resources, you can\n    use the job parm ", {"text": ["Slots Per Work Item"], "type": "ui"}, " to change the maximum number of such processes\n    that are run in parallel.  For example by default if there are 8 Slots available\n    as determined by ", {"text": ["Total Slots"], "type": "ui"}, " there will be a maximum of 8 processes\n    executed in parallel.  However if ", {"text": ["Slots Per Work Item"], "type": "ui"}, " is set to 2 on the processor\n    node, there will be a maximum of 4 such processes executed in parallel, with each\n    task consuming 2 Slots worth of resources in the scheduler."]}], "indent": 0, "role": "item", "type": "tip", "extent": [745, 750]}], "container": true, "role": "item_group", "type": "tip_group"}, {"indent": 0, "type": "para", "extent": [1323, 1466], "text": ["To execute work items on a farm or remote machines, another scheduler should be\nutilized such as ", {"text": ["HQueue Scheduler"], "fullpath": "/nodes/top/hqueuescheduler", "scheme": "Node", "type": "link", "value": "/nodes/top/hqueuescheduler"}, "."]}, {"body": [{"body": [{"indent": 0, "type": "para", "extent": [1495, 1566], "text": ["These are global parameters for all work items using this scheduler."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [60, 456], "text": ["The relative directory where the work will be generating intermediate files \n    and output. The intermediate files will be placed in a subdirectory. \n    For the Local scheduler or Hqueue, typically ", {"text": ["$HIP"], "type": "code"}, " is used. For other \n    schedulers, this should be a relative directory to ", {"text": ["Local Shared Root Path"], "type": "code"}, " \n    and ", {"text": ["Remote Shared Root Path"], "type": "code"}, "; this path is then appended to these root paths."]}], "indent": 0, "text": ["Working Directory"], "role": "item", "attrs": {"id": "pdg_workingdir"}, "extent": [16, 35], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [1652, 1948], "text": ["Select where local temporary files should be written.  Files that are written here are needed for the PDG cook, but are typically not the end product, and can be removed when the cook completes.  Log files and python scripts are examples of files that are typically written during the cook."]}, {"indent": 4, "type": "para", "extent": [1948, 2029], "text": ["Working Directory:\n    A pdgtemp sub directory of the ", {"text": ["Working Directory"], "type": "ui"}]}, {"indent": 4, "type": "para", "extent": [2029, 2097], "text": ["Houdini Temp:\n    A pdgtemp sub directory of $HOUDINI_TEMP_DIR"]}, {"indent": 4, "type": "para", "extent": [2097, 2167], "text": ["Custom:\n    A custom directory specified by ", {"text": ["Custom Directory"], "type": "ui"}]}], "indent": 0, "text": ["Directory Location"], "role": "item", "attrs": {"id": "tempdirmenu"}, "extent": [1610, 1630], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2206, 2495], "text": ["Adds a sub directory to the Location specified by ", {"text": ["Directory Location"], "type": "ui"}, ", which is the value of the PID (Process Identifier) of your session of Houdini.  This is typically a 3-5 digit number.  This is necessary if multiple sessions of Houdini are cooking TOP graphs at the same time."]}], "indent": 0, "text": ["Append PID"], "role": "item", "attrs": {"id": "tempdirappendpid"}, "extent": [2167, 2179], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2537, 2633], "text": ["The full path to the temporary directory when ", {"text": ["Directory Location"], "type": "ui"}, " is set to ", {"text": ["Custom"], "type": "ui"}, "."]}], "indent": 0, "text": ["Custom Directory"], "role": "item", "attrs": {"id": "tempdircustom"}, "extent": [2495, 2513], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [2669, 2900], "text": ["Specify the number of Slots that are available for this scheduler to use to\n    execute work items.  Provides some default Slot counts based on the detected\n    CPU.  A higher slot count means more work items can run at once."]}, {"indent": 4, "type": "para", "extent": [2900, 2991], "text": [{"text": ["Equal to 1/4 of Total CPU Count:"], "type": "ui"}, " Use the number of logical cores divided by four."]}, {"indent": 4, "type": "para", "extent": [2991, 3069], "text": [{"text": ["Equal to CPU Count Less One:"], "type": "ui"}, " Use the number of logical cores less 1."]}, {"indent": 4, "type": "para", "extent": [3069, 3151], "text": [{"text": ["Custom Slot Count:"], "type": "ui"}, " Use the number as specified by ", {"text": ["Custom Slot Count"], "type": "ui"}, "."]}, {"indent": 4, "type": "para", "extent": [3151, 3211], "text": ["See ", {"fragment": "#limits", "text": ["limiting resource usage"], "value": "/tops/schedulers#limits", "fullpath": "/tops/schedulers#limits", "scheme": null, "type": "link"}, "."]}], "indent": 0, "text": ["Total Slots"], "role": "item", "attrs": {"id": "maxprocsmenu"}, "extent": [2633, 2646], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3249, 3475], "text": ["The number of Slots available to execute work items. Positive\n    numbers indicates the Slot count. A negative number\n    indicates that the Slots count will be the total logical CPU cores\n    minus the specified number."]}], "indent": 0, "text": ["Custom Slot Count"], "role": "item", "attrs": {"id": "maxprocs"}, "extent": [3211, 3230], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Scheduler"], "extent": [1478, 1495], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [3491, 3705], "text": ["These job specific parameters can be overridden by each node under the\n", {"text": ["Local Scheduler"], "type": "ui"}, " tab on the node\u2019s ", {"text": ["Schedulers"], "type": "ui"}, " parameter interface.  See ", {"fragment": "#jobparms", "text": ["Scheduler Job Parms / Properties"], "value": "/tops/schedulers#jobparms", "fullpath": "/tops/schedulers#jobparms", "scheme": null, "type": "link"}, "."]}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [3755, 3841], "text": ["Enabling this will force only one ", {"text": ["single"], "type": "ui"}, " work item to be executed at a time."]}], "indent": 0, "text": ["Single"], "role": "item", "attrs": {"id": "local_single"}, "extent": [3724, 3732], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3890, 4136], "text": ["The number of Slots consumed by each work item.  This work item will only be\n    run by the scheduler if at least this number of Slots are available.  The\n    total number of Slots available to the scheduler is specified by ", {"text": ["Total Slots"], "type": "ui"}, "."]}], "indent": 0, "text": ["Slots Per Work Item"], "role": "item", "attrs": {"id": "local_CPUs_to_use"}, "extent": [3841, 3862], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Scheduling"], "extent": [3705, 3724], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [4172, 4327], "text": ["When a work item processes terminates with a non-zero exit code, it will be marked as failed by default.  Use these parameters to change that behavior. "]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [4365, 4416], "text": ["Reporting Error:\n    The work item will fail."]}, {"indent": 4, "type": "para", "extent": [4416, 4512], "text": ["Reporting Warning:\n    The work item will succeed and a warning will be added to the node."]}, {"indent": 4, "type": "para", "extent": [4512, 4581], "text": ["Retrying Task:\n    The work item will be restarted immediately."]}, {"indent": 4, "type": "para", "extent": [4581, 4638], "text": ["Ignoring Exit Code:\n    The work item will succeed."]}], "indent": 0, "text": ["Handle By"], "role": "item", "attrs": {"id": "local_echandleby"}, "extent": [4327, 4338], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4687, 4745], "text": ["Set this to false to specify a particular exit code."]}], "indent": 0, "text": ["Handle All Non Zero"], "role": "item", "attrs": {"id": "local_echandleall"}, "extent": [4638, 4659], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [4785, 4932], "text": ["Set this to the exit code that you wish to handle using ", {"text": ["Handle By"], "type": "ui"}, ".  All other non-zero exit codes will be treated as a failure as normal."]}], "indent": 0, "text": ["Exit Code"], "role": "item", "attrs": {"id": "local_eccustomcode"}, "extent": [4745, 4756], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"indent": 0, "type": "para", "extent": [41, 109], "text": ["Additional work item environment variables can be specified here."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [140, 198], "text": ["Name of the work item environment variable."]}], "indent": 0, "text": ["Name"], "role": "item", "attrs": {"id": "local_envname#"}, "extent": [109, 115], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [231, 280], "text": ["Value of the work item environment variable."]}], "indent": 0, "text": ["Value"], "role": "item", "attrs": {"id": "local_envvalue#"}, "extent": [198, 205], "type": "parameters_item"}], "container": true, "type": "parameters_item_group"}], "indent": 0, "level": 4, "text": ["Task Environment"], "extent": [16, 41], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [5036, 5260], "text": ["Specify the maximum number of threads to use for each work item. This sets the ", {"text": ["HOUDINI_MAXTHREADS"], "type": "ui"}, " environment value which is used by Houdini-based programs such as ", {"text": ["Mantra"], "type": "ui"}, ", ", {"text": ["Karma"], "type": "ui"}, ", ", {"text": ["Hython"], "type": "ui"}, " and ", {"text": ["HBatch"], "type": "ui"}, ". "]}], "indent": 0, "text": ["Houdini Max Threads"], "role": "item", "attrs": {"id": "local_houdinimaxthreads"}, "extent": [4981, 5002], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Non-Zero Exit Code Handling"], "extent": [4136, 4172], "container": true, "type": "h", "id": null}], "indent": 0, "level": 2, "text": ["Job Parms"], "extent": [3475, 3491], "container": true, "type": "h", "id": null}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [1466, 1478], "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "extent": [5269, 5298], "text": [{"text": "", "fullpath": "/nodes/top/pythonscheduler", "scheme": "Node", "type": "link", "value": "/nodes/top/pythonscheduler"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [5298, 5327], "text": [{"text": "", "fullpath": "/nodes/top/hqueuescheduler", "scheme": "Node", "type": "link", "value": "/nodes/top/hqueuescheduler"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [5327, 5357], "text": [{"text": "", "fullpath": "/nodes/top/tractorscheduler", "scheme": "Node", "type": "link", "value": "/nodes/top/tractorscheduler"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [5357, 5389], "text": [{"text": "", "fullpath": "/nodes/top/deadlinescheduler", "scheme": "Node", "type": "link", "value": "/nodes/top/deadlinescheduler"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "extent": [5260, 5269], "container": true, "type": "related_section", "id": "related"}], "title": ["Local Scheduler"], "summary": ["Schedules work items on the local machine."], "attrs": {"version": null, "namespace": null, "internal": "localscheduler", "context": "top", "type": "node", "icon": "TOP/scheduler"}, "included": ["/nodes/top/_scheduler_common", "/nodes/top/_scheduler_task_env_common"], "type": "root"}